
  <head>
    <meta charset="utf-8">
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1">

    <title>You shall have a fish-eye, on a little dish-eye</title>

    <meta name="HandheldFriendly" content="True">
    <meta name="MobileOptimized" content="320">
    <meta name="apple-mobile-web-app-capable" content="yes">
    <meta name="apple-mobile-web-app-status-bar-style" content="black-translucent">
    <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1">

    <meta name="description" content="">

    <meta name="twitter:card" content="summary">
    <meta name="twitter:title" content="You shall have a fish-eye, on a little dish-eye">
    <meta name="twitter:description" content="">

    <meta property="og:type" content="article">
    <meta property="og:title" content="You shall have a fish-eye, on a little dish-eye">
    <meta property="og:description" content="">

    <meta name="twitter:site" content="@yourblogtwitter">
    
    <meta name="twitter:creator" content="@yourtwitter">
    
    <meta name="google-site-verification" content="">
    
    <meta property="fb:admins" content="">

    <link href="../favicon.ico" rel="shortcut icon" type="image/x-icon">
    <link href="../apple-touch-icon-precomposed.png" rel="apple-touch-icon">

    <link href="http://fonts.googleapis.com/" rel="dns-prefetch">
    <link href="http://fonts.googleapis.com/css?family=Droid+Serif:400,700,400italic%7COpen+Sans:700,400&amp;subset=latin,latin-ext" rel="stylesheet">

    <link rel="stylesheet" href="../assets/css/main.min.css?v=b894ba5c87">

    <script type="text/javascript">
      var ga_ua = 'UA-2898335-1';
      
      var disqus_shortname = 'infiniteturtles';
      
      var enable_pjax = true;

      // Pace Options
      // ==============
      window.paceOptions = {
        catchupTime: 100,
        minTime: 100,
        elements: false,
        restartOnRequestAfter: 500,
        startOnPageLoad: false
      }

      // Ghostium Globals
      // ==============
      window.GHOSTIUM = {};
      GHOSTIUM.haveGA = typeof ga_ua !== 'undefined' && ga_ua !== 'UA-XXXXX-X';
      GHOSTIUM.haveDisqus = typeof disqus_shortname !== 'undefined' && disqus_shortname !== 'example';
      GHOSTIUM.enablePjax = typeof enable_pjax !== 'undefined' ? enable_pjax : true;
    </script>

    <script src="../assets/js/head-scripts.min.js?v=b894ba5c87"></script>

    <link rel="canonical" href="index.html">
    
    <meta property="og:site_name" content="infinite turtles">
    <meta property="og:type" content="article">
    <meta property="og:title" content="You shall have a fish-eye, on a little dish-eye">
    <meta property="og:description" content="While experimenting for an Away Studios project, I recently came up against the thorny issue of wide-angled rendering with a high field of view (fov). In Away3D it is possible to set the fov property of the PerspectiveLens to whatever...">
    <meta property="og:url" content="http://localhost:2368/you-shall-have-a-fish-eye-on-a-little-dish-eye/">
    <meta property="article:published_time" content="2014-07-08T11:07:43.000Z">
    <meta property="article:modified_time" content="2014-07-08T11:10:32.000Z">
    
    <meta name="twitter:card" content="summary">
    <meta name="twitter:title" content="You shall have a fish-eye, on a little dish-eye">
    <meta name="twitter:description" content="While experimenting for an Away Studios project, I recently came up against the thorny issue of wide-angled rendering with a high field of view (fov). In Away3D it is possible to set the fov property of the PerspectiveLens to whatever...">
    <meta name="twitter:url" content="http://localhost:2368/you-shall-have-a-fish-eye-on-a-little-dish-eye/">
    
    <script type="application/ld+json">
{
    "@context": "http://schema.org",
    "@type": "Article",
    "publisher": "infinite turtles",
    "author": {
        "@type": "Person",
        "name": "Rob Bateman",
        "image": "//www.gravatar.com/avatar/b8242495a01877d28be795d90ca1169e?d=404&s=250",
        "url": "http://localhost:2368/author/rob",
        "sameAs": null
    },
    "headline": "You shall have a fish-eye, on a little dish-eye",
    "url": "http://localhost:2368/you-shall-have-a-fish-eye-on-a-little-dish-eye/",
    "datePublished": "2014-07-08T11:07:43.000Z",
    "dateModified": "2014-07-08T11:10:32.000Z",
    "description": "While experimenting for an Away Studios project, I recently came up against the thorny issue of wide-angled rendering with a high field of view (fov). In Away3D it is possible to set the fov property of the PerspectiveLens to whatever..."
}
    </script>

    <meta name="generator" content="Ghost 0.5">
    <link rel="alternate" type="application/rss+xml" title="infinite turtles" href="../rss/index.html">
  </head>
  <body class="post-template">

    <button data-action="open-drawer" id="drawer-button" class="drawer-button"><i class="fa fa-bars"></i></button>
    <nav tabindex="-1" class="drawer">
      <div class="drawer-container">
        <!--.drawer-search(role="search")-->
        <ul role="navigation" class="drawer-list">
          
          <li class="drawer-list-item">
            <a href="../" data-pjax>
              <i class="fa fa-home"></i>Home
            </a>
          </li>
          <li class="drawer-list-item">
            <a href="../rss/index.rss">
              <i class="fa fa-rss"></i>Subscribe to Feed
            </a>
          </li>
          <li class="drawer-list-divider">
          <li class="drawer-list-item drawer-list-title">
            Follow me
          </li>
          <li class="drawer-list-item">
            <a href="http://twitter.com" target="_blank">
              <i class="fa fa-twitter"></i>Twitter
            </a>
          </li>
          <li class="drawer-list-item">
            <a href="http://github.com" target="_blank">
              <i class="fa fa-github"></i>Github
            </a>
          </li>
        </ul>
      </div>
    </nav>

    <div class="drawer-overlay"></div>
    <main id="container" role="main" class="container">
      <div class="surface">
        <div class="surface-container">
          <div data-pjax-container class="content">
            
<section class="wrapper wrapper-post">
  <div class="wrapper-container">
    <article itemscope itemtype="http://schema.org/BlogPosting" role="article" class="post post">
        <section class="post-container">
          <header class="post-header">
            <ul class="post-meta-list">
              <li class="post-meta-item">
                <time datetime="2014-07-08" itemprop="datePublished">
                  7 months ago
                </time>
              </li>
              <li class="post-meta-item">
                <a href="index.html#disqus_thread" data-disqus-identifier="126">Comments</a>
              </li>
            </ul>
            <h1 itemprop="name headline" class="post-title"><a href="index.html" itemprop="url" data-pjax title="You shall have a fish-eye, on a little dish-eye">You shall have a fish-eye, on a little dish-eye</a></h1>
            <!--h2 itemprop="about" class="post-subtitle"></h2-->
          </header>
          <aside class="post-side">
            <div class="post-author">
                <a href="index.html" class="post-author-avatar">
                  <img src="http://www.gravatar.com/avatar/b8242495a01877d28be795d90ca1169e?d=404&amp;s=250" alt="Rob Bateman">
                </a>
              <div class="post-author-info">
                <a href="index.html" class="post-author-name">
                  Rob Bateman
                </a>
                <p class="post-author-bio"></p>
              </div>
            </div>
          </aside>
          <div itemprop="articleBody" class="post-body">
            <p><a href="http://infiniteturtles.co.uk/projects/away3d4/examples/Advanced_TerrainDemo/Advanced_TerrainDemo.html"><img src="http://www.infiniteturtles.co.uk/blog/wp-content/uploads/2014/06/fish-eye.jpg" alt="" title="fish-eye"></a></p>

<p><a href="http://www.infiniteturtles.co.uk/blog/wp-content/uploads/2014/06/fish-eye.jpg"></a>While experimenting for an Away Studios project, I recently came up against the thorny issue of wide-angled rendering with a high <strong>field of view</strong> (fov). In Away3D it is possible to set the fov property of the PerspectiveLens to whatever value you feel comfortable with, but this doesn’t necessarily produce the best results at very wide angles (say, above 110 degrees). One solution to this is to post-process the image sent to the view using the same projection distortions seen in a <strong><a href="http://en.wikipedia.org/wiki/Fisheye_lens">fish-eye lens</a></strong>.</p>

<p>Fish-eye lenses are all the rage in photography but you tend to see them less in 3D graphics, possibly because they aren’t always the most efficient rendering technique. But when a project demands it, they are a necessary evil and worthy of some consideration. The most recent example of this has to be projection requirements for hardware like the <strong><a href="http://www.oculusvr.com/">Oculus Rift</a></strong> where the stereoscopic view requires a certain amount of <strong><a href="http://en.wikipedia.org/wiki/Distortion_(optics)">barrel distortion</a></strong> to map correctly to the optics in the headset.</p>

<p><a href="http://infiniteturtles.co.uk/projects/away3d4/examples/Advanced_TerrainDemo/Advanced_TerrainDemo.html"><img src="http://www.infiniteturtles.co.uk/blog/wp-content/uploads/2014/07/fish-eye2.jpg" alt="" title="fish-eye2"></a></p>

<p>In my particular case, I was rendering a scene for projection onto a 180-degree dome – something you can see in most theme parks these days or IMAX cinemas (i was going to say “planetarium” here but I only just discovered that the <a href="http://en.wikipedia.org/wiki/London_Planetarium">London Planetarium</a> was rebranded in 2006 and now hosts something called the “Marvel Superheroes 4D attraction” – so boo to them for making me feel old!). Essentially the screen is made up of several overlapping projectors that feed off a single master image of the projection called a <strong><a href="http://stardust.ringling.edu/cosmix/fulldome/domemaster/domemaster.html">Domemaster</a></strong>.  It is this that any video or interactive graphic needs to display if it is to be projected correctly onto the dome, and the distortions present in the Domemaster have similar characteristics to that of a fish-eye lens.</p>

<p>So how to achieve the effect? There are several methods, but the one I found to give the most pleasing results involves rendering 6 planes to a Skybox, and then rendering the Skybox to the view with a bit of shader trickery. The image below shows the effect in Away3D with  debug images rendered to the skybox instead of a scene – here we have a 180-degree fov set on the shader. An optimisation trick with this approach (unless you have a very high fov) is to move the skybox with the camera so that only 5 sides of the box are visible at any one time.</p>

<p><a href="http://infiniteturtles.co.uk/projects/away3d4/examples/Advanced_TerrainDemo/Advanced_TerrainDemo.html"><img src="http://www.infiniteturtles.co.uk/blog/wp-content/uploads/2014/07/fish-eye3.jpg" alt="" title="fish-eye3"></a></p>

<p>A strange thing about fish-eye lenses is the impression they give – a very stylised, immersive feel that thanks to massive overuse in fashion and pop-culture has led to a unmistakable association with cool. If you don’t believe me, check out the <a href="http://infiniteturtles.co.uk/projects/away3d4/examples/Advanced_TerrainDemo/Advanced_TerrainDemo.html">Away3D terrain demo with fish-eye applied</a> – I defy you to disagree that things look instantly cooler <img src="http://www.infiniteturtles.co.uk/blog/wp-includes/images/smilies/icon_wink.gif" alt=";)" title=""></p>

<p><a href="http://infiniteturtles.co.uk/projects/away3d4/examples/Advanced_TerrainDemo/srcview/index.html">Source code</a> is available for the demo featured here, and the implementation in Away3D has been added to the <a href="https://github.com/away3d/away3d-core-fp11/tree/dev">dev branch</a> on github as an additional post-processing effect. So next time your project is lacking a certain something, why not try a fish-eye lens?</p>
          </div>
          <footer class="post-footer">
            <div itemprop="author" itemscope itemtype="http://schema.org/Person" class="post-author">
                <a href="index.html" class="post-author-avatar">
                  <img itemprop="image" src="http://www.gravatar.com/avatar/b8242495a01877d28be795d90ca1169e?d=404&amp;s=250" alt="Rob Bateman">
                </a>
              <div class="post-author-info">
                <h4 class="post-footer-heading">Written By</h4>
                <a href="index.html" itemprop="url" class="post-author-name">
                  <span itemprop="name">Rob Bateman</span>
                </a>
                <p itemprop="description" class="post-author-bio"></p>
                <p class="post-info">
                  <b class="post-info-title">Published on</b>
                  <time class="post-date">July 08, 2014</time>
                </p>
              </div>
            </div>
            <div class="post-social">
              <h4 class="post-footer-heading">Spread the word</h4>
              <a href="index.html#" data-action="share-twitter"><i class="fa fa-fw fa-lg fa-twitter"></i></a>
              <a href="index.html#" data-action="share-facebook"><i class="fa fa-fw fa-lg fa-facebook"></i></a>
              <a href="index.html#" data-action="share-gplus"><i class="fa fa-fw fa-lg fa-google-plus"></i></a>
            </div>
          </footer>
        </section>
      <section itemprop="comment" class="post-comments">
        <div id="disqus_thread"></div>
      </section>
    </article>

    <footer role="contentinfo" class="footer">
      <p><small>© 2015. All Rights Reserved.</small></p>
      <p><small><a href="http://ghostium.oswaldoacauan.com/" target="_blank">Ghostium Theme</a> by <a href="http://twitter.com/oswaldoacauan" target="_blank">@oswaldoacauan</a></small></p>
      <p><small>Proudly published with <a href="http://ghost.org" target="_blank">Ghost</a></small></p>
    </footer>
  </div>
</section>

<script type="text/javascript">
  if(GHOSTIUM.haveDisqus) {
    var disqus_identifier = '126';

    if(typeof DISQUS !== 'object') {
      (function () {
      var s = document.createElement('script'); s.async = true;
      s.type = 'text/javascript';
      s.src = '//' + disqus_shortname + '.disqus.com/embed.js';
      (document.getElementsByTagName('HEAD')[0] || document.getElementsByTagName('BODY')[0]).appendChild(s);
      }());
    }
  } else {
    document.querySelector('.post-comments').remove();
  }
</script>

          </div>
        </div>
      </div>
    </main>

    <script src="../public/jquery.js?v=b894ba5c87"></script>

    <script src="../assets/js/foot-scripts.min.js?v=b894ba5c87"></script>

    <script type="text/javascript">

      if(GHOSTIUM.haveGA) {
        (function(g,h,o,s,t,z){g.GoogleAnalyticsObject=s;g[s]||(g[s]=
        function(){(g[s].q=g[s].q||[]).push(arguments)});g[s].s=+new Date;
        t=h.createElement(o);z=h.getElementsByTagName(o)[0];
        t.src='//www.google-analytics.com/analytics.js';
        z.parentNode.insertBefore(t,z)}(window,document,'script','ga'));
        ga('create',ga_ua);ga('send','pageview');
      }

      if(GHOSTIUM.haveDisqus) {
        (function () {
        var s = document.createElement('script'); s.async = true;
        s.type = 'text/javascript';
        s.src = '//' + disqus_shortname + '.disqus.com/count.js';
        (document.getElementsByTagName('HEAD')[0] || document.getElementsByTagName('BODY')[0]).appendChild(s);
        }());
      }
    </script>
  </body>
