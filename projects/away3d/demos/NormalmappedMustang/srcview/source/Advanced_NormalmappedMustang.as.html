<!-- saved from url=(0014)about:internet -->
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8"/>
<title>Advanced_NormalmappedMustang.as</title>
<link rel="stylesheet" type="text/css" href="../SourceStyles.css"/>
</head>

<body><pre><span class="ActionScriptComment">/*&#xd;&#xa;&#xd;&#xa;Flash 10 Normal mapping example in Away3d&#xd;&#xa;&#xd;&#xa;Demonstrates:&#xd;&#xa;&#xd;&#xa;How to use Dot3BitmapMaterialF10 to apply diffuse and specular lighting to a normap-mapped material.&#xd;&#xa;The advantage of using Dot3BitmapMaterialF10 over Dot3BitmapMaterial or WhiteShadingBitmapMaterial&#xd;&#xa;How to group objects in RenderSession objects to solve sorting problems&#xd;&#xa;How to how to apply a HDR (Hight dynamic range) effect to an Away3d view&#xd;&#xa;&#xd;&#xa;Code by Rob Bateman&#xd;&#xa;rob@infiniteturtles.co.uk&#xd;&#xa;http://www.infiniteturtles.co.uk&#xd;&#xa;&#xd;&#xa;Design by Eddie Carbin&#xd;&#xa;http://www.carbin.com/&#xd;&#xa;&#xd;&#xa;HDR pixel bender kernel by David Lenaerts&#xd;&#xa;http://www.derschmale.com/&#xd;&#xa; &#xd;&#xa;This code is distributed under the MIT License&#xd;&#xa;&#xd;&#xa;Copyright (c) &#xd;&#xa;&#xd;&#xa;Permission is hereby granted, free of charge, to any person obtaining a copy&#xd;&#xa;of this software and associated documentation files (the &#x201c;Software&#x201d;), to deal&#xd;&#xa;in the Software without restriction, including without limitation the rights&#xd;&#xa;to use, copy, modify, merge, publish, distribute, sublicense, and/or sell&#xd;&#xa;copies of the Software, and to permit persons to whom the Software is&#xd;&#xa;furnished to do so, subject to the following conditions:&#xd;&#xa;&#xd;&#xa;The above copyright notice and this permission notice shall be included in&#xd;&#xa;all copies or substantial portions of the Software.&#xd;&#xa;&#xd;&#xa;THE SOFTWARE IS PROVIDED &#x201c;AS IS&#x201d;, WITHOUT WARRANTY OF ANY KIND, EXPRESS OR&#xd;&#xa;IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,&#xd;&#xa;FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE&#xd;&#xa;AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER&#xd;&#xa;LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,&#xd;&#xa;OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN&#xd;&#xa;THE SOFTWARE.&#xd;&#xa;&#xd;&#xa;*/</span>&#xd;&#xa;&#xd;&#xa;<span class="ActionScriptpackage">package</span> <span class="ActionScriptBracket/Brace">{</span>&#xd;&#xa;&#xd;&#x9;<span class="ActionScriptReserved">import</span> <span class="ActionScriptDefault_Text">AS3s</span>.<span class="ActionScriptOperator">*</span>;&#xd;&#xa;&#x9;&#xd;&#x9;<span class="ActionScriptReserved">import</span> <span class="ActionScriptDefault_Text">away3d</span>.<span class="ActionScriptDefault_Text">cameras</span>.<span class="ActionScriptOperator">*</span>;&#xd;&#xa;&#x9;<span class="ActionScriptReserved">import</span> <span class="ActionScriptDefault_Text">away3d</span>.<span class="ActionScriptDefault_Text">cameras</span>.<span class="ActionScriptDefault_Text">lenses</span>.<span class="ActionScriptOperator">*</span>;&#xd;&#xa;&#x9;<span class="ActionScriptReserved">import</span> <span class="ActionScriptDefault_Text">away3d</span>.<span class="ActionScriptDefault_Text">containers</span>.<span class="ActionScriptOperator">*</span>;&#xd;&#xa;&#x9;<span class="ActionScriptReserved">import</span> <span class="ActionScriptDefault_Text">away3d</span>.<span class="ActionScriptDefault_Text">core</span>.<span class="ActionScriptDefault_Text">base</span>.<span class="ActionScriptOperator">*</span>;&#xd;&#xa;&#x9;<span class="ActionScriptReserved">import</span> <span class="ActionScriptDefault_Text">away3d</span>.<span class="ActionScriptDefault_Text">core</span>.<span class="ActionScriptDefault_Text">render</span>.<span class="ActionScriptOperator">*</span>;&#xd;&#xa;&#x9;<span class="ActionScriptReserved">import</span> <span class="ActionScriptDefault_Text">away3d</span>.<span class="ActionScriptDefault_Text">core</span>.<span class="ActionScriptDefault_Text">utils</span>.<span class="ActionScriptOperator">*</span>;&#xd;&#xa;&#x9;<span class="ActionScriptReserved">import</span> <span class="ActionScriptDefault_Text">away3d</span>.<span class="ActionScriptDefault_Text">lights</span>.<span class="ActionScriptOperator">*</span>;&#xd;&#xa;&#x9;<span class="ActionScriptReserved">import</span> <span class="ActionScriptDefault_Text">away3d</span>.<span class="ActionScriptDefault_Text">materials</span>.<span class="ActionScriptOperator">*</span>;&#xd;&#xa;&#x9;<span class="ActionScriptReserved">import</span> <span class="ActionScriptDefault_Text">away3d</span>.<span class="ActionScriptDefault_Text">test</span>.<span class="ActionScriptOperator">*</span>;&#xd;&#xa;&#x9;&#xd;&#xa;&#x9;<span class="ActionScriptReserved">import</span> <span class="ActionScriptDefault_Text">flash</span>.<span class="ActionScriptDefault_Text">display</span>.<span class="ActionScriptOperator">*</span>;&#xd;&#xa;&#x9;<span class="ActionScriptReserved">import</span> <span class="ActionScriptDefault_Text">flash</span>.<span class="ActionScriptDefault_Text">events</span>.<span class="ActionScriptOperator">*</span>;&#xd;&#xa;&#x9;<span class="ActionScriptReserved">import</span> <span class="ActionScriptDefault_Text">flash</span>.<span class="ActionScriptDefault_Text">utils</span>.<span class="ActionScriptOperator">*</span>;&#xd;&#xa;&#x9;<span class="ActionScriptReserved">import</span> <span class="ActionScriptDefault_Text">flash</span>.<span class="ActionScriptDefault_Text">filters</span>.<span class="ActionScriptOperator">*</span>;&#xd;&#xa;&#x9;&#xd;&#xa;&#x9;<span class="ActionScriptBracket/Brace">[</span><span class="ActionScriptMetadata">SWF</span><span class="ActionScriptBracket/Brace">(</span><span class="ActionScriptDefault_Text">backgroundColor</span><span class="ActionScriptOperator">=</span><span class="ActionScriptString">&quot;#677999&quot;</span>, <span class="ActionScriptDefault_Text">frameRate</span><span class="ActionScriptOperator">=</span><span class="ActionScriptString">&quot;30&quot;</span>, <span class="ActionScriptDefault_Text">quality</span><span class="ActionScriptOperator">=</span><span class="ActionScriptString">&quot;LOW&quot;</span>, <span class="ActionScriptDefault_Text">width</span><span class="ActionScriptOperator">=</span><span class="ActionScriptString">&quot;800&quot;</span>, <span class="ActionScriptDefault_Text">height</span><span class="ActionScriptOperator">=</span><span class="ActionScriptString">&quot;600&quot;</span><span class="ActionScriptBracket/Brace">)]</span>&#xd;&#xa;&#x9; &#xd;&#xa;&#x9;<span class="ActionScriptReserved">public</span> <span class="ActionScriptclass">class</span> <span class="ActionScriptDefault_Text">Advanced_NormalmappedMustang</span> <span class="ActionScriptReserved">extends</span> <span class="ActionScriptDefault_Text">MovieClip</span>&#xd;&#xa;&#x9;<span class="ActionScriptBracket/Brace">{</span>&#xd;&#xa;&#x9;&#x9;<span class="ActionScriptComment">//license plate texture&#xd;&#xa;</span>&#x9;&#x9;<span class="ActionScriptBracket/Brace">[</span><span class="ActionScriptMetadata">Embed</span><span class="ActionScriptBracket/Brace">(</span><span class="ActionScriptDefault_Text">source</span><span class="ActionScriptOperator">=</span><span class="ActionScriptString">&quot;assets/licenseplate.jpg&quot;</span><span class="ActionScriptBracket/Brace">)]</span>&#xd;&#xa;    &#x9;<span class="ActionScriptReserved">public</span> <span class="ActionScriptvar">var</span> <span class="ActionScriptDefault_Text">LicenseTexture</span><span class="ActionScriptOperator">:</span><span class="ActionScriptDefault_Text">Class</span>;&#xd;&#xa;    &#x9;&#xd;&#xa;&#x9;&#x9;<span class="ActionScriptComment">//brakes texture for wheels&#xd;&#xa;</span>&#x9;&#x9;<span class="ActionScriptBracket/Brace">[</span><span class="ActionScriptMetadata">Embed</span><span class="ActionScriptBracket/Brace">(</span><span class="ActionScriptDefault_Text">source</span><span class="ActionScriptOperator">=</span><span class="ActionScriptString">&quot;assets/discbrakes.png&quot;</span><span class="ActionScriptBracket/Brace">)]</span>&#xd;&#xa;    &#x9;<span class="ActionScriptReserved">public</span> <span class="ActionScriptvar">var</span> <span class="ActionScriptDefault_Text">BrakesTexture</span><span class="ActionScriptOperator">:</span><span class="ActionScriptDefault_Text">Class</span>;&#xd;&#xa;    &#x9;&#xd;&#xa;    &#x9;<span class="ActionScriptComment">//tire texture for wheels&#xd;&#xa;</span>    &#x9;<span class="ActionScriptBracket/Brace">[</span><span class="ActionScriptMetadata">Embed</span><span class="ActionScriptBracket/Brace">(</span><span class="ActionScriptDefault_Text">source</span><span class="ActionScriptOperator">=</span><span class="ActionScriptString">&quot;assets/dragradial.jpg&quot;</span><span class="ActionScriptBracket/Brace">)]</span>&#xd;&#xa;    &#x9;<span class="ActionScriptReserved">public</span> <span class="ActionScriptvar">var</span> <span class="ActionScriptDefault_Text">TiresTexture</span><span class="ActionScriptOperator">:</span><span class="ActionScriptDefault_Text">Class</span>;&#xd;&#xa;&#x9;&#x9;&#xd;&#xa;&#x9;&#x9;<span class="ActionScriptComment">//hubcap texture for wheels&#xd;&#xa;</span>&#x9;&#x9;<span class="ActionScriptBracket/Brace">[</span><span class="ActionScriptMetadata">Embed</span><span class="ActionScriptBracket/Brace">(</span><span class="ActionScriptDefault_Text">source</span><span class="ActionScriptOperator">=</span><span class="ActionScriptString">&quot;assets/eleanor_hub.png&quot;</span><span class="ActionScriptBracket/Brace">)]</span>&#xd;&#xa;&#x9;&#x9;<span class="ActionScriptReserved">private</span> <span class="ActionScriptvar">var</span> <span class="ActionScriptDefault_Text">HubTexture</span><span class="ActionScriptOperator">:</span><span class="ActionScriptDefault_Text">Class</span>;&#xd;&#xa;&#x9;&#x9;&#xd;&#xa;&#x9;&#x9;<span class="ActionScriptComment">//shadow texture&#xd;&#xa;</span>&#x9;&#x9;<span class="ActionScriptBracket/Brace">[</span><span class="ActionScriptMetadata">Embed</span><span class="ActionScriptBracket/Brace">(</span><span class="ActionScriptDefault_Text">source</span><span class="ActionScriptOperator">=</span><span class="ActionScriptString">&quot;assets/eleanor_shadow_256.png&quot;</span><span class="ActionScriptBracket/Brace">)]</span>&#xd;&#xa;&#x9;&#x9;<span class="ActionScriptReserved">private</span> <span class="ActionScriptvar">var</span> <span class="ActionScriptDefault_Text">ShadowTexture</span><span class="ActionScriptOperator">:</span><span class="ActionScriptDefault_Text">Class</span>;&#xd;&#xa;&#x9;&#x9;&#x9;&#x9;&#xd;&#xa;&#x9;&#x9;<span class="ActionScriptComment">//body texture&#xd;&#xa;</span>&#x9;&#x9;<span class="ActionScriptBracket/Brace">[</span><span class="ActionScriptMetadata">Embed</span><span class="ActionScriptBracket/Brace">(</span><span class="ActionScriptDefault_Text">source</span><span class="ActionScriptOperator">=</span><span class="ActionScriptString">&quot;assets/Mustang_diffuse.jpg&quot;</span><span class="ActionScriptBracket/Brace">)]</span>&#xd;&#xa;&#x9;&#x9;<span class="ActionScriptReserved">private</span> <span class="ActionScriptvar">var</span> <span class="ActionScriptDefault_Text">BodyTexture</span><span class="ActionScriptOperator">:</span><span class="ActionScriptDefault_Text">Class</span>;&#xd;&#xa;&#x9;&#x9;&#xd;&#xa;&#x9;&#x9;<span class="ActionScriptComment">//normalmap for body&#xd;&#xa;</span>&#x9;&#x9;<span class="ActionScriptBracket/Brace">[</span><span class="ActionScriptMetadata">Embed</span><span class="ActionScriptBracket/Brace">(</span><span class="ActionScriptDefault_Text">source</span><span class="ActionScriptOperator">=</span><span class="ActionScriptString">&quot;assets/MustangObject_NRM_512.png&quot;</span><span class="ActionScriptBracket/Brace">)]</span>&#xd;&#xa;&#x9;&#x9;<span class="ActionScriptReserved">private</span> <span class="ActionScriptvar">var</span> <span class="ActionScriptDefault_Text">Normalmap</span><span class="ActionScriptOperator">:</span><span class="ActionScriptDefault_Text">Class</span>;&#xd;&#xa;&#x9;&#x9;&#xd;&#xa;    &#x9;<span class="ActionScriptComment">//signature swf&#xd;&#xa;</span>    &#x9;<span class="ActionScriptBracket/Brace">[</span><span class="ActionScriptMetadata">Embed</span><span class="ActionScriptBracket/Brace">(</span><span class="ActionScriptDefault_Text">source</span><span class="ActionScriptOperator">=</span><span class="ActionScriptString">&quot;assets/signature_eddie_david.swf&quot;</span>, <span class="ActionScriptDefault_Text">symbol</span><span class="ActionScriptOperator">=</span><span class="ActionScriptString">&quot;Signature&quot;</span><span class="ActionScriptBracket/Brace">)]</span>&#xd;&#xa;    &#x9;<span class="ActionScriptReserved">public</span> <span class="ActionScriptvar">var</span> <span class="ActionScriptDefault_Text">SignatureSwf</span><span class="ActionScriptOperator">:</span><span class="ActionScriptDefault_Text">Class</span>;&#xd;&#xa;    &#x9;&#xd;&#xa;    &#x9;<span class="ActionScriptComment">//pixel bender filter for HDR effect&#xd;&#xa;</span>    &#x9;<span class="ActionScriptBracket/Brace">[</span><span class="ActionScriptMetadata">Embed</span><span class="ActionScriptBracket/Brace">(</span><span class="ActionScriptDefault_Text">source</span><span class="ActionScriptOperator">=</span><span class="ActionScriptString">&quot;pbks/BloomBrightness.pbj&quot;</span>, <span class="ActionScriptDefault_Text">mimeType</span><span class="ActionScriptOperator">=</span><span class="ActionScriptString">&quot;application/octet-stream&quot;</span><span class="ActionScriptBracket/Brace">)]</span>&#xd;&#xa;&#x9;&#x9;<span class="ActionScriptReserved">private</span> <span class="ActionScriptvar">var</span> <span class="ActionScriptDefault_Text">BloomBrightness</span><span class="ActionScriptOperator">:</span><span class="ActionScriptDefault_Text">Class</span>;&#xd;&#xa;&#x9;&#x9;&#xd;&#xa;    &#x9;<span class="ActionScriptComment">//engine variables&#xd;&#xa;</span>    &#x9;<span class="ActionScriptReserved">private</span> <span class="ActionScriptvar">var</span> <span class="ActionScriptDefault_Text">scene</span><span class="ActionScriptOperator">:</span><span class="ActionScriptDefault_Text">Scene3D</span>;&#xd;&#xa;&#x9;&#x9;<span class="ActionScriptReserved">private</span> <span class="ActionScriptvar">var</span> <span class="ActionScriptDefault_Text">camera</span><span class="ActionScriptOperator">:</span><span class="ActionScriptDefault_Text">HoverCamera3D</span>;&#xd;&#xa;&#x9;&#x9;<span class="ActionScriptReserved">private</span> <span class="ActionScriptvar">var</span> <span class="ActionScriptDefault_Text">view</span><span class="ActionScriptOperator">:</span><span class="ActionScriptDefault_Text">View3D</span>;&#xd;&#xa;&#x9;&#x9;<span class="ActionScriptReserved">private</span> <span class="ActionScriptvar">var</span> <span class="ActionScriptDefault_Text">bloomShader</span><span class="ActionScriptOperator">:</span><span class="ActionScriptDefault_Text">Shader</span>;&#xd;&#xa;&#x9;&#x9;<span class="ActionScriptReserved">private</span> <span class="ActionScriptvar">var</span> <span class="ActionScriptDefault_Text">bloomFilter</span><span class="ActionScriptOperator">:</span><span class="ActionScriptDefault_Text">ShaderFilter</span>;&#xd;&#xa;&#x9;&#x9;<span class="ActionScriptReserved">private</span> <span class="ActionScriptvar">var</span> <span class="ActionScriptDefault_Text">bloomBitmap</span><span class="ActionScriptOperator">:</span><span class="ActionScriptDefault_Text">Bitmap</span>;&#xd;&#xa;&#x9;&#x9;<span class="ActionScriptReserved">private</span> <span class="ActionScriptvar">var</span> <span class="ActionScriptDefault_Text">bloom</span><span class="ActionScriptOperator">:</span><span class="ActionScriptDefault_Text">Boolean</span> <span class="ActionScriptOperator">=</span> <span class="ActionScriptReserved">true</span>;&#xd;&#xa;&#x9;&#x9;&#xd;&#x9;&#x9;<span class="ActionScriptComment">//signature variables&#xd;&#xa;</span>&#x9;&#x9;<span class="ActionScriptReserved">private</span> <span class="ActionScriptvar">var</span> <span class="ActionScriptDefault_Text">Signature</span><span class="ActionScriptOperator">:</span><span class="ActionScriptDefault_Text">Sprite</span>;&#xd;&#xa;&#x9;&#x9;<span class="ActionScriptReserved">private</span> <span class="ActionScriptvar">var</span> <span class="ActionScriptDefault_Text">SignatureBitmap</span><span class="ActionScriptOperator">:</span><span class="ActionScriptDefault_Text">Bitmap</span>;&#xd;&#xa;&#x9;&#x9;&#xd;&#xa;&#x9;&#x9;<span class="ActionScriptComment">//material objects&#xd;&#xa;</span>&#x9;&#x9;<span class="ActionScriptReserved">private</span> <span class="ActionScriptvar">var</span> <span class="ActionScriptDefault_Text">f10Material</span><span class="ActionScriptOperator">:</span><span class="ActionScriptDefault_Text">Dot3BitmapMaterialF10</span>;&#xd;&#xa;&#x9;&#x9;<span class="ActionScriptReserved">private</span> <span class="ActionScriptvar">var</span> <span class="ActionScriptDefault_Text">f9Material</span><span class="ActionScriptOperator">:</span><span class="ActionScriptDefault_Text">Dot3BitmapMaterial</span>;&#xd;&#xa;&#x9;&#x9;<span class="ActionScriptReserved">private</span> <span class="ActionScriptvar">var</span> <span class="ActionScriptDefault_Text">flatMaterial</span><span class="ActionScriptOperator">:</span><span class="ActionScriptDefault_Text">WhiteShadingBitmapMaterial</span>;&#xd;&#xa;&#x9;&#x9;<span class="ActionScriptReserved">private</span> <span class="ActionScriptvar">var</span> <span class="ActionScriptDefault_Text">hubMaterial</span><span class="ActionScriptOperator">:</span><span class="ActionScriptDefault_Text">WhiteShadingBitmapMaterial</span>;&#xd;&#xa;&#x9;&#x9;<span class="ActionScriptReserved">private</span> <span class="ActionScriptvar">var</span> <span class="ActionScriptDefault_Text">brakesMaterial</span><span class="ActionScriptOperator">:</span><span class="ActionScriptDefault_Text">WhiteShadingBitmapMaterial</span>;&#xd;&#xa;&#x9;&#x9;<span class="ActionScriptReserved">private</span> <span class="ActionScriptvar">var</span> <span class="ActionScriptDefault_Text">tiresMaterial</span><span class="ActionScriptOperator">:</span><span class="ActionScriptDefault_Text">WhiteShadingBitmapMaterial</span>;&#xd;&#xa;&#x9;&#x9;<span class="ActionScriptReserved">private</span> <span class="ActionScriptvar">var</span> <span class="ActionScriptDefault_Text">licenseMaterial</span><span class="ActionScriptOperator">:</span><span class="ActionScriptDefault_Text">WhiteShadingBitmapMaterial</span>;&#xd;&#xa;&#x9;&#x9;<span class="ActionScriptReserved">private</span> <span class="ActionScriptvar">var</span> <span class="ActionScriptDefault_Text">shadowMaterial</span><span class="ActionScriptOperator">:</span><span class="ActionScriptDefault_Text">BitmapMaterial</span>;&#xd;&#xa;&#x9;&#x9;&#xd;&#xa;&#x9;&#x9;<span class="ActionScriptComment">//scene objects&#xd;&#xa;</span>&#x9;&#x9;<span class="ActionScriptReserved">private</span> <span class="ActionScriptvar">var</span> <span class="ActionScriptDefault_Text">mustang</span><span class="ActionScriptOperator">:</span><span class="ActionScriptDefault_Text">MustangGT500</span>;&#xd;&#xa;&#x9;&#x9;<span class="ActionScriptReserved">private</span> <span class="ActionScriptvar">var</span> <span class="ActionScriptDefault_Text">shadow</span><span class="ActionScriptOperator">:</span><span class="ActionScriptDefault_Text">Mesh</span>;&#xd;&#xa;&#x9;&#x9;<span class="ActionScriptReserved">private</span> <span class="ActionScriptvar">var</span> <span class="ActionScriptDefault_Text">bodyMesh</span><span class="ActionScriptOperator">:</span><span class="ActionScriptDefault_Text">Mesh</span>;&#xd;&#xa;&#x9;&#x9;&#xd;&#xa;&#x9;&#x9;<span class="ActionScriptComment">//scene lights&#xd;&#xa;</span>&#x9;&#x9;<span class="ActionScriptReserved">private</span> <span class="ActionScriptvar">var</span> <span class="ActionScriptDefault_Text">light</span><span class="ActionScriptOperator">:</span><span class="ActionScriptDefault_Text">DirectionalLight3D</span>;&#xd;&#xa;&#x9;&#x9;&#xd;&#xa;&#x9;&#x9;<span class="ActionScriptComment">//button objects&#xd;&#xa;</span>&#x9;&#x9;<span class="ActionScriptReserved">private</span> <span class="ActionScriptvar">var</span> <span class="ActionScriptDefault_Text">buttonGroup</span><span class="ActionScriptOperator">:</span><span class="ActionScriptDefault_Text">Sprite</span>;&#xd;&#xa;&#x9;&#x9;<span class="ActionScriptReserved">private</span> <span class="ActionScriptvar">var</span> <span class="ActionScriptDefault_Text">f10BloomButton</span><span class="ActionScriptOperator">:</span><span class="ActionScriptDefault_Text">Button</span>;&#xd;&#xa;&#x9;&#x9;<span class="ActionScriptReserved">private</span> <span class="ActionScriptvar">var</span> <span class="ActionScriptDefault_Text">f10Button</span><span class="ActionScriptOperator">:</span><span class="ActionScriptDefault_Text">Button</span>;&#xd;&#xa;&#x9;&#x9;<span class="ActionScriptReserved">private</span> <span class="ActionScriptvar">var</span> <span class="ActionScriptDefault_Text">f9Button</span><span class="ActionScriptOperator">:</span><span class="ActionScriptDefault_Text">Button</span>;&#xd;&#xa;&#x9;&#x9;<span class="ActionScriptReserved">private</span> <span class="ActionScriptvar">var</span> <span class="ActionScriptDefault_Text">flatButton</span><span class="ActionScriptOperator">:</span><span class="ActionScriptDefault_Text">Button</span>;&#xd;&#xa;&#x9;&#x9;&#xd;&#xa;&#x9;&#x9;<span class="ActionScriptComment">//navigation variables&#xd;&#xa;</span>&#x9;&#x9;<span class="ActionScriptReserved">private</span> <span class="ActionScriptvar">var</span> <span class="ActionScriptDefault_Text">move</span><span class="ActionScriptOperator">:</span><span class="ActionScriptDefault_Text">Boolean</span> <span class="ActionScriptOperator">=</span> <span class="ActionScriptReserved">false</span>;&#xd;&#xa;&#x9;&#x9;<span class="ActionScriptReserved">private</span> <span class="ActionScriptvar">var</span> <span class="ActionScriptDefault_Text">lastPanAngle</span><span class="ActionScriptOperator">:</span><span class="ActionScriptDefault_Text">Number</span>;&#xd;&#xa;&#x9;&#x9;<span class="ActionScriptReserved">private</span> <span class="ActionScriptvar">var</span> <span class="ActionScriptDefault_Text">lastTiltAngle</span><span class="ActionScriptOperator">:</span><span class="ActionScriptDefault_Text">Number</span>;&#xd;&#xa;&#x9;&#x9;<span class="ActionScriptReserved">private</span> <span class="ActionScriptvar">var</span> <span class="ActionScriptDefault_Text">lastMouseX</span><span class="ActionScriptOperator">:</span><span class="ActionScriptDefault_Text">Number</span>;&#xd;&#xa;&#x9;&#x9;<span class="ActionScriptReserved">private</span> <span class="ActionScriptvar">var</span> <span class="ActionScriptDefault_Text">lastMouseY</span><span class="ActionScriptOperator">:</span><span class="ActionScriptDefault_Text">Number</span>;&#xd;&#xa;&#x9;&#x9;&#xd;&#xa;&#x9;&#x9;<span class="ActionScriptASDoc">/**&#xd;&#xa;&#x9;&#x9; * Constructor&#xd;&#xa;&#x9;&#x9; */</span>&#xd;&#xa;&#x9;&#x9;<span class="ActionScriptReserved">public</span> <span class="ActionScriptfunction">function</span> <span class="ActionScriptDefault_Text">Advanced_NormalmappedMustang</span><span class="ActionScriptBracket/Brace">()</span>&#xd;&#xa;&#x9;&#x9;<span class="ActionScriptBracket/Brace">{</span>&#xd;&#xa;&#x9;&#x9;&#x9;<span class="ActionScriptDefault_Text">init</span><span class="ActionScriptBracket/Brace">()</span>;&#xd;&#xa;&#x9;&#x9;<span class="ActionScriptBracket/Brace">}</span>&#xd;&#xa;&#x9;&#x9;&#xd;&#xa;&#x9;&#x9;<span class="ActionScriptASDoc">/**&#xd;&#xa;&#x9;&#x9; * Global initialise function&#xd;&#xa;&#x9;&#x9; */</span>&#xd;&#xa;&#x9;&#x9;<span class="ActionScriptReserved">private</span> <span class="ActionScriptfunction">function</span> <span class="ActionScriptDefault_Text">init</span><span class="ActionScriptBracket/Brace">()</span><span class="ActionScriptOperator">:</span><span class="ActionScriptReserved">void</span>&#xd;&#xa;&#x9;&#x9;<span class="ActionScriptBracket/Brace">{</span>&#xd;&#xa;&#x9;&#x9;&#x9;<span class="ActionScriptDefault_Text">initEngine</span><span class="ActionScriptBracket/Brace">()</span>;&#xd;&#xa;&#x9;&#x9;&#x9;<span class="ActionScriptDefault_Text">initMaterials</span><span class="ActionScriptBracket/Brace">()</span>;&#xd;&#xa;&#x9;&#x9;&#x9;<span class="ActionScriptDefault_Text">initObjects</span><span class="ActionScriptBracket/Brace">()</span>;&#xd;&#xa;&#x9;&#x9;&#x9;<span class="ActionScriptDefault_Text">initLights</span><span class="ActionScriptBracket/Brace">()</span>;&#xd;&#xa;&#x9;&#x9;&#x9;<span class="ActionScriptDefault_Text">initButtons</span><span class="ActionScriptBracket/Brace">()</span>;&#xd;&#xa;&#x9;&#x9;&#x9;<span class="ActionScriptDefault_Text">initListeners</span><span class="ActionScriptBracket/Brace">()</span>;&#xd;&#xa;&#x9;&#x9;<span class="ActionScriptBracket/Brace">}</span>&#xd;&#xa;&#x9;&#x9;&#xd;&#xa;&#x9;&#x9;<span class="ActionScriptASDoc">/**&#xd;&#xa;&#x9;&#x9; * Initialise the engine&#xd;&#xa;&#x9;&#x9; */</span>&#xd;&#xa;&#x9;&#x9;<span class="ActionScriptReserved">private</span> <span class="ActionScriptfunction">function</span> <span class="ActionScriptDefault_Text">initEngine</span><span class="ActionScriptBracket/Brace">()</span><span class="ActionScriptOperator">:</span><span class="ActionScriptReserved">void</span>&#xd;&#xa;&#x9;&#x9;<span class="ActionScriptBracket/Brace">{</span>&#xd;&#xa;&#x9;&#x9;&#x9;<span class="ActionScriptDefault_Text">scene</span> <span class="ActionScriptOperator">=</span> <span class="ActionScriptReserved">new</span> <span class="ActionScriptDefault_Text">Scene3D</span><span class="ActionScriptBracket/Brace">()</span>;&#xd;&#xa;&#x9;&#x9;&#x9;<span class="ActionScriptDefault_Text">camera</span> <span class="ActionScriptOperator">=</span> <span class="ActionScriptReserved">new</span> <span class="ActionScriptDefault_Text">HoverCamera3D</span><span class="ActionScriptBracket/Brace">({</span><span class="ActionScriptDefault_Text">zoom</span><span class="ActionScriptOperator">:</span>20, <span class="ActionScriptDefault_Text">focus</span><span class="ActionScriptOperator">:</span>50, <span class="ActionScriptDefault_Text">lookat</span><span class="ActionScriptOperator">:</span><span class="ActionScriptString">&quot;center&quot;</span><span class="ActionScriptBracket/Brace">})</span>;&#xd;&#xa;&#x9;&#x9;&#x9;<span class="ActionScriptDefault_Text">camera</span>.<span class="ActionScriptDefault_Text">lens</span> <span class="ActionScriptOperator">=</span> <span class="ActionScriptReserved">new</span> <span class="ActionScriptDefault_Text">SphericalLens</span><span class="ActionScriptBracket/Brace">()</span>;&#xd;&#xa;&#x9;&#x9;&#x9;<span class="ActionScriptDefault_Text">camera</span>.<span class="ActionScriptDefault_Text">distance</span> <span class="ActionScriptOperator">=</span> 600;&#xd;&#xa;&#x9;&#x9;&#x9;<span class="ActionScriptDefault_Text">camera</span>.<span class="ActionScriptDefault_Text">maxtiltangle</span> <span class="ActionScriptOperator">=</span> 70;&#xd;&#xa;&#x9;&#x9;&#x9;<span class="ActionScriptDefault_Text">camera</span>.<span class="ActionScriptDefault_Text">mintiltangle</span> <span class="ActionScriptOperator">=</span> 5;&#xd;&#xa;&#x9;&#x9;&#x9;<span class="ActionScriptDefault_Text">camera</span>.<span class="ActionScriptDefault_Text">targetpanangle</span> <span class="ActionScriptOperator">=</span> <span class="ActionScriptDefault_Text">camera</span>.<span class="ActionScriptDefault_Text">panangle</span> <span class="ActionScriptOperator">=</span> <span class="ActionScriptOperator">-</span>140;&#xd;&#xa;&#x9;&#x9;&#x9;<span class="ActionScriptDefault_Text">camera</span>.<span class="ActionScriptDefault_Text">targettiltangle</span> <span class="ActionScriptOperator">=</span> <span class="ActionScriptDefault_Text">camera</span>.<span class="ActionScriptDefault_Text">tiltangle</span> <span class="ActionScriptOperator">=</span> 20;&#xd;&#xa;&#x9;&#x9;&#x9;<span class="ActionScriptDefault_Text">view</span> <span class="ActionScriptOperator">=</span> <span class="ActionScriptReserved">new</span> <span class="ActionScriptDefault_Text">View3D</span><span class="ActionScriptBracket/Brace">({</span><span class="ActionScriptDefault_Text">scene</span><span class="ActionScriptOperator">:</span><span class="ActionScriptDefault_Text">scene</span>, <span class="ActionScriptDefault_Text">camera</span><span class="ActionScriptOperator">:</span><span class="ActionScriptDefault_Text">camera</span><span class="ActionScriptBracket/Brace">})</span>;&#xd;&#xa;&#x9;&#x9;&#x9;<span class="ActionScriptDefault_Text">view</span>.<span class="ActionScriptDefault_Text">x</span> <span class="ActionScriptOperator">=</span> 400;&#xd;&#xa;&#x9;&#x9;&#x9;<span class="ActionScriptDefault_Text">view</span>.<span class="ActionScriptDefault_Text">y</span> <span class="ActionScriptOperator">=</span> 300;&#xd;&#xa;&#x9;&#x9;&#x9;<span class="ActionScriptDefault_Text">view</span>.<span class="ActionScriptDefault_Text">addSourceURL</span><span class="ActionScriptBracket/Brace">(</span><span class="ActionScriptString">&quot;srcview/index.html&quot;</span><span class="ActionScriptBracket/Brace">)</span>;&#xd;&#xa;&#x9;&#x9;&#x9;<span class="ActionScriptDefault_Text">view</span>.<span class="ActionScriptDefault_Text">session</span> <span class="ActionScriptOperator">=</span> <span class="ActionScriptReserved">new</span> <span class="ActionScriptDefault_Text">BitmapRenderSession</span><span class="ActionScriptBracket/Brace">(</span>1<span class="ActionScriptBracket/Brace">)</span>;&#xd;&#xa;&#x9;&#x9;&#x9;&#xd;&#xa;&#x9;&#x9;&#x9;<span class="ActionScriptDefault_Text">addChild</span><span class="ActionScriptBracket/Brace">(</span> <span class="ActionScriptDefault_Text">view</span> <span class="ActionScriptBracket/Brace">)</span>;&#xd;&#xa;&#x9;&#x9;&#x9;&#xd;&#xa;&#x9;&#x9;&#x9;<span class="ActionScriptComment">//add signature&#xd;&#xa;</span>            <span class="ActionScriptDefault_Text">Signature</span> <span class="ActionScriptOperator">=</span> <span class="ActionScriptDefault_Text">Sprite</span><span class="ActionScriptBracket/Brace">(</span><span class="ActionScriptReserved">new</span> <span class="ActionScriptDefault_Text">SignatureSwf</span><span class="ActionScriptBracket/Brace">())</span>;&#xd;&#xa;            <span class="ActionScriptDefault_Text">SignatureBitmap</span> <span class="ActionScriptOperator">=</span> <span class="ActionScriptReserved">new</span> <span class="ActionScriptDefault_Text">Bitmap</span><span class="ActionScriptBracket/Brace">(</span><span class="ActionScriptReserved">new</span> <span class="ActionScriptDefault_Text">BitmapData</span><span class="ActionScriptBracket/Brace">(</span><span class="ActionScriptDefault_Text">Signature</span>.<span class="ActionScriptDefault_Text">width</span>, <span class="ActionScriptDefault_Text">Signature</span>.<span class="ActionScriptDefault_Text">height</span>, <span class="ActionScriptReserved">true</span>, 0<span class="ActionScriptBracket/Brace">))</span>;&#xd;&#xa;            <span class="ActionScriptDefault_Text">stage</span>.<span class="ActionScriptDefault_Text">quality</span> <span class="ActionScriptOperator">=</span> <span class="ActionScriptDefault_Text">StageQuality</span>.<span class="ActionScriptDefault_Text">HIGH</span>;&#xd;&#xa;            <span class="ActionScriptDefault_Text">SignatureBitmap</span>.<span class="ActionScriptDefault_Text">bitmapData</span>.<span class="ActionScriptDefault_Text">draw</span><span class="ActionScriptBracket/Brace">(</span><span class="ActionScriptDefault_Text">Signature</span><span class="ActionScriptBracket/Brace">)</span>;&#xd;&#xa;            <span class="ActionScriptDefault_Text">stage</span>.<span class="ActionScriptDefault_Text">quality</span> <span class="ActionScriptOperator">=</span> <span class="ActionScriptDefault_Text">StageQuality</span>.<span class="ActionScriptDefault_Text">LOW</span>;&#xd;&#xa;            <span class="ActionScriptDefault_Text">addChild</span><span class="ActionScriptBracket/Brace">(</span><span class="ActionScriptDefault_Text">SignatureBitmap</span><span class="ActionScriptBracket/Brace">)</span>;&#xd;&#xa;            &#xd;&#xa;            <span class="ActionScriptComment">//add filters&#xd;&#xa;</span>            <span class="ActionScriptDefault_Text">bloomShader</span> <span class="ActionScriptOperator">=</span> <span class="ActionScriptReserved">new</span> <span class="ActionScriptDefault_Text">Shader</span><span class="ActionScriptBracket/Brace">(</span><span class="ActionScriptReserved">new</span> <span class="ActionScriptDefault_Text">BloomBrightness</span><span class="ActionScriptBracket/Brace">())</span>;&#xd;&#xa;            <span class="ActionScriptDefault_Text">bloomShader</span>.<span class="ActionScriptDefault_Text">data</span>.<span class="ActionScriptDefault_Text">threshold</span>.<span class="ActionScriptDefault_Text">value</span> <span class="ActionScriptOperator">=</span> <span class="ActionScriptBracket/Brace">[</span>0.99<span class="ActionScriptBracket/Brace">]</span>;&#xd;&#xa;            <span class="ActionScriptDefault_Text">bloomShader</span>.<span class="ActionScriptDefault_Text">data</span>.<span class="ActionScriptDefault_Text">exposure</span>.<span class="ActionScriptDefault_Text">value</span> <span class="ActionScriptOperator">=</span> <span class="ActionScriptBracket/Brace">[</span>1<span class="ActionScriptBracket/Brace">]</span>;&#xd;&#xa;&#x9;&#x9;&#x9;<span class="ActionScriptDefault_Text">bloomFilter</span> <span class="ActionScriptOperator">=</span> <span class="ActionScriptReserved">new</span> <span class="ActionScriptDefault_Text">ShaderFilter</span><span class="ActionScriptBracket/Brace">(</span><span class="ActionScriptDefault_Text">bloomShader</span><span class="ActionScriptBracket/Brace">)</span>;&#xd;&#xa;&#x9;&#x9;&#x9;<span class="ActionScriptDefault_Text">bloomBitmap</span> <span class="ActionScriptOperator">=</span> <span class="ActionScriptReserved">new</span> <span class="ActionScriptDefault_Text">Bitmap</span><span class="ActionScriptBracket/Brace">()</span>;&#xd;&#xa;&#x9;&#x9;&#x9;<span class="ActionScriptDefault_Text">bloomBitmap</span>.<span class="ActionScriptDefault_Text">filters</span> <span class="ActionScriptOperator">=</span> <span class="ActionScriptBracket/Brace">[</span><span class="ActionScriptDefault_Text">bloomFilter</span>, <span class="ActionScriptReserved">new</span> <span class="ActionScriptDefault_Text">BlurFilter</span><span class="ActionScriptBracket/Brace">(</span>20, 20, 3<span class="ActionScriptBracket/Brace">)]</span>;&#xd;&#xa;&#x9;&#x9;&#x9;<span class="ActionScriptDefault_Text">bloomBitmap</span>.<span class="ActionScriptDefault_Text">blendMode</span> <span class="ActionScriptOperator">=</span> <span class="ActionScriptDefault_Text">BlendMode</span>.<span class="ActionScriptDefault_Text">ADD</span>;&#xd;&#xa;&#x9;&#x9;&#x9;<span class="ActionScriptDefault_Text">addChild</span><span class="ActionScriptBracket/Brace">(</span><span class="ActionScriptDefault_Text">bloomBitmap</span><span class="ActionScriptBracket/Brace">)</span>;&#xd;&#xa;&#x9;&#x9;<span class="ActionScriptBracket/Brace">}</span>&#xd;&#xa;&#xd;&#xa;&#x9;&#x9;<span class="ActionScriptASDoc">/**&#xd;&#xa;&#x9;&#x9; * Initialise the materials&#xd;&#xa;&#x9;&#x9; */</span>&#xd;&#xa;&#x9;&#x9;<span class="ActionScriptReserved">private</span> <span class="ActionScriptfunction">function</span> <span class="ActionScriptDefault_Text">initMaterials</span><span class="ActionScriptBracket/Brace">()</span><span class="ActionScriptOperator">:</span><span class="ActionScriptReserved">void</span>&#xd;&#xa;&#x9;&#x9;<span class="ActionScriptBracket/Brace">{</span>&#xd;&#xa;&#x9;&#x9;&#x9;<span class="ActionScriptDefault_Text">f10Material</span> <span class="ActionScriptOperator">=</span> <span class="ActionScriptReserved">new</span> <span class="ActionScriptDefault_Text">Dot3BitmapMaterialF10</span><span class="ActionScriptBracket/Brace">(C</span><span class="ActionScriptDefault_Text">ast</span>.<span class="ActionScriptDefault_Text">bitmap</span><span class="ActionScriptBracket/Brace">(</span><span class="ActionScriptDefault_Text">BodyTexture</span><span class="ActionScriptBracket/Brace">)</span>, <span class="ActionScriptDefault_Text">Cast</span>.<span class="ActionScriptDefault_Text">bitmap</span><span class="ActionScriptBracket/Brace">(</span><span class="ActionScriptDefault_Text">Normalmap</span><span class="ActionScriptBracket/Brace">)</span>, <span class="ActionScriptBracket/Brace">{</span><span class="ActionScriptDefault_Text">specular</span><span class="ActionScriptOperator">:</span>0.1, <span class="ActionScriptDefault_Text">shininess</span><span class="ActionScriptOperator">:</span>1000<span class="ActionScriptBracket/Brace">})</span>;&#xd;&#xa;&#x9;&#x9;&#x9;<span class="ActionScriptDefault_Text">f9Material</span> <span class="ActionScriptOperator">=</span> <span class="ActionScriptReserved">new</span> <span class="ActionScriptDefault_Text">Dot3BitmapMaterial</span><span class="ActionScriptBracket/Brace">(C</span><span class="ActionScriptDefault_Text">ast</span>.<span class="ActionScriptDefault_Text">bitmap</span><span class="ActionScriptBracket/Brace">(</span><span class="ActionScriptDefault_Text">BodyTexture</span><span class="ActionScriptBracket/Brace">)</span>, <span class="ActionScriptDefault_Text">Cast</span>.<span class="ActionScriptDefault_Text">bitmap</span><span class="ActionScriptBracket/Brace">(</span><span class="ActionScriptDefault_Text">Normalmap</span><span class="ActionScriptBracket/Brace">)</span>, <span class="ActionScriptBracket/Brace">{</span><span class="ActionScriptDefault_Text">specular</span><span class="ActionScriptOperator">:</span>0.1, <span class="ActionScriptDefault_Text">shininess</span><span class="ActionScriptOperator">:</span>1000<span class="ActionScriptBracket/Brace">})</span>;&#xd;&#xa;&#x9;&#x9;&#x9;<span class="ActionScriptDefault_Text">flatMaterial</span> <span class="ActionScriptOperator">=</span> <span class="ActionScriptReserved">new</span> <span class="ActionScriptDefault_Text">WhiteShadingBitmapMaterial</span><span class="ActionScriptBracket/Brace">(C</span><span class="ActionScriptDefault_Text">ast</span>.<span class="ActionScriptDefault_Text">bitmap</span><span class="ActionScriptBracket/Brace">(</span><span class="ActionScriptDefault_Text">BodyTexture</span><span class="ActionScriptBracket/Brace">))</span>;&#xd;&#xa;&#x9;&#x9;&#x9;<span class="ActionScriptDefault_Text">hubMaterial</span> <span class="ActionScriptOperator">=</span> <span class="ActionScriptReserved">new</span> <span class="ActionScriptDefault_Text">WhiteShadingBitmapMaterial</span><span class="ActionScriptBracket/Brace">(C</span><span class="ActionScriptDefault_Text">ast</span>.<span class="ActionScriptDefault_Text">bitmap</span><span class="ActionScriptBracket/Brace">(</span><span class="ActionScriptDefault_Text">HubTexture</span><span class="ActionScriptBracket/Brace">))</span>;&#xd;&#xa;&#x9;&#x9;&#x9;<span class="ActionScriptDefault_Text">brakesMaterial</span> <span class="ActionScriptOperator">=</span> <span class="ActionScriptReserved">new</span> <span class="ActionScriptDefault_Text">WhiteShadingBitmapMaterial</span><span class="ActionScriptBracket/Brace">(C</span><span class="ActionScriptDefault_Text">ast</span>.<span class="ActionScriptDefault_Text">bitmap</span><span class="ActionScriptBracket/Brace">(</span><span class="ActionScriptDefault_Text">BrakesTexture</span><span class="ActionScriptBracket/Brace">))</span>;&#xd;&#xa;&#x9;&#x9;&#x9;<span class="ActionScriptDefault_Text">tiresMaterial</span> <span class="ActionScriptOperator">=</span> <span class="ActionScriptReserved">new</span> <span class="ActionScriptDefault_Text">WhiteShadingBitmapMaterial</span><span class="ActionScriptBracket/Brace">(C</span><span class="ActionScriptDefault_Text">ast</span>.<span class="ActionScriptDefault_Text">bitmap</span><span class="ActionScriptBracket/Brace">(T</span><span class="ActionScriptDefault_Text">iresTexture</span><span class="ActionScriptBracket/Brace">))</span>;&#xd;&#xa;&#x9;&#x9;&#x9;<span class="ActionScriptDefault_Text">licenseMaterial</span> <span class="ActionScriptOperator">=</span> <span class="ActionScriptReserved">new</span> <span class="ActionScriptDefault_Text">WhiteShadingBitmapMaterial</span><span class="ActionScriptBracket/Brace">(C</span><span class="ActionScriptDefault_Text">ast</span>.<span class="ActionScriptDefault_Text">bitmap</span><span class="ActionScriptBracket/Brace">(</span><span class="ActionScriptDefault_Text">LicenseTexture</span><span class="ActionScriptBracket/Brace">))</span>;&#xd;&#xa;&#x9;&#x9;&#x9;<span class="ActionScriptDefault_Text">shadowMaterial</span> <span class="ActionScriptOperator">=</span> <span class="ActionScriptReserved">new</span> <span class="ActionScriptDefault_Text">BitmapMaterial</span><span class="ActionScriptBracket/Brace">(C</span><span class="ActionScriptDefault_Text">ast</span>.<span class="ActionScriptDefault_Text">bitmap</span><span class="ActionScriptBracket/Brace">(</span><span class="ActionScriptDefault_Text">ShadowTexture</span><span class="ActionScriptBracket/Brace">))</span>;&#xd;&#xa;&#x9;&#x9;<span class="ActionScriptBracket/Brace">}</span>&#xd;&#xa;&#x9;&#x9;&#xd;&#xa;&#x9;&#x9;<span class="ActionScriptASDoc">/**&#xd;&#xa;&#x9;&#x9; * Initialise the scene objects&#xd;&#xa;&#x9;&#x9; */</span>&#xd;&#xa;&#x9;&#x9;<span class="ActionScriptReserved">private</span> <span class="ActionScriptfunction">function</span> <span class="ActionScriptDefault_Text">initObjects</span><span class="ActionScriptBracket/Brace">()</span><span class="ActionScriptOperator">:</span><span class="ActionScriptReserved">void</span>&#xd;&#xa;&#x9;&#x9;<span class="ActionScriptBracket/Brace">{</span>&#xd;&#xa;&#x9;&#x9;&#x9;<span class="ActionScriptComment">//create mustang model&#xd;&#xa;</span>&#x9;&#x9;&#x9;<span class="ActionScriptDefault_Text">mustang</span> <span class="ActionScriptOperator">=</span> <span class="ActionScriptReserved">new</span> <span class="ActionScriptDefault_Text">MustangGT500</span><span class="ActionScriptBracket/Brace">({</span><span class="ActionScriptDefault_Text">scaling</span><span class="ActionScriptOperator">:</span>.06<span class="ActionScriptBracket/Brace">})</span>;&#xd;&#xa;&#x9;&#x9;&#x9;&#xd;&#xa;&#x9;&#x9;&#x9;<span class="ActionScriptvar">var</span> <span class="ActionScriptDefault_Text">backLeftWheelSession</span><span class="ActionScriptOperator">:</span><span class="ActionScriptDefault_Text">SpriteRenderSession</span> <span class="ActionScriptOperator">=</span> <span class="ActionScriptReserved">new</span> <span class="ActionScriptDefault_Text">SpriteRenderSession</span><span class="ActionScriptBracket/Brace">()</span>;&#xd;&#xa;&#x9;&#x9;&#x9;<span class="ActionScriptvar">var</span> <span class="ActionScriptDefault_Text">backRightWheelSession</span><span class="ActionScriptOperator">:</span><span class="ActionScriptDefault_Text">SpriteRenderSession</span> <span class="ActionScriptOperator">=</span> <span class="ActionScriptReserved">new</span> <span class="ActionScriptDefault_Text">SpriteRenderSession</span><span class="ActionScriptBracket/Brace">()</span>;&#xd;&#xa;&#x9;&#x9;&#x9;<span class="ActionScriptvar">var</span> <span class="ActionScriptDefault_Text">frontLeftWheelSession</span><span class="ActionScriptOperator">:</span><span class="ActionScriptDefault_Text">SpriteRenderSession</span> <span class="ActionScriptOperator">=</span> <span class="ActionScriptReserved">new</span> <span class="ActionScriptDefault_Text">SpriteRenderSession</span><span class="ActionScriptBracket/Brace">()</span>;&#xd;&#xa;&#x9;&#x9;&#x9;<span class="ActionScriptvar">var</span> <span class="ActionScriptDefault_Text">frontRightWheelSession</span><span class="ActionScriptOperator">:</span><span class="ActionScriptDefault_Text">SpriteRenderSession</span> <span class="ActionScriptOperator">=</span> <span class="ActionScriptReserved">new</span> <span class="ActionScriptDefault_Text">SpriteRenderSession</span><span class="ActionScriptBracket/Brace">()</span>;&#xd;&#xa;&#x9;&#x9;&#x9;&#xd;&#xa;&#x9;&#x9;&#x9;<span class="ActionScriptvar">var</span> <span class="ActionScriptDefault_Text">frontLeftTire</span><span class="ActionScriptOperator">:</span><span class="ActionScriptDefault_Text">Mesh</span> <span class="ActionScriptOperator">=</span> <span class="ActionScriptDefault_Text">mustang</span>.<span class="ActionScriptDefault_Text">meshes</span><span class="ActionScriptBracket/Brace">[</span>0<span class="ActionScriptBracket/Brace">]</span>;&#xd;&#xa;&#x9;&#x9;&#x9;<span class="ActionScriptDefault_Text">frontLeftTire</span>.<span class="ActionScriptDefault_Text">material</span> <span class="ActionScriptOperator">=</span> <span class="ActionScriptDefault_Text">tiresMaterial</span>;&#xd;&#xa;&#x9;&#x9;&#x9;<span class="ActionScriptDefault_Text">frontLeftTire</span>.<span class="ActionScriptDefault_Text">ownSession</span> <span class="ActionScriptOperator">=</span> <span class="ActionScriptDefault_Text">frontLeftWheelSession</span>;&#xd;&#xa;&#x9;&#x9;&#x9;<span class="ActionScriptDefault_Text">frontLeftTire</span>.<span class="ActionScriptDefault_Text">screenZOffset</span> <span class="ActionScriptOperator">=</span> 10;&#xd;&#xa;&#x9;&#x9;&#x9;<span class="ActionScriptDefault_Text">frontLeftTire</span>.<span class="ActionScriptDefault_Text">centerPivot</span><span class="ActionScriptBracket/Brace">()</span>;&#xd;&#xa;&#x9;&#x9;&#x9;&#xd;&#xa;&#x9;&#x9;&#x9;<span class="ActionScriptvar">var</span> <span class="ActionScriptDefault_Text">frontRightTire</span><span class="ActionScriptOperator">:</span><span class="ActionScriptDefault_Text">Mesh</span> <span class="ActionScriptOperator">=</span> <span class="ActionScriptDefault_Text">mustang</span>.<span class="ActionScriptDefault_Text">meshes</span><span class="ActionScriptBracket/Brace">[</span>13<span class="ActionScriptBracket/Brace">]</span>;&#xd;&#xa;&#x9;&#x9;&#x9;<span class="ActionScriptDefault_Text">frontRightTire</span>.<span class="ActionScriptDefault_Text">material</span> <span class="ActionScriptOperator">=</span> <span class="ActionScriptDefault_Text">tiresMaterial</span>;&#xd;&#xa;&#x9;&#x9;&#x9;<span class="ActionScriptDefault_Text">frontRightTire</span>.<span class="ActionScriptDefault_Text">ownSession</span> <span class="ActionScriptOperator">=</span> <span class="ActionScriptDefault_Text">frontRightWheelSession</span>;&#xd;&#xa;&#x9;&#x9;&#x9;<span class="ActionScriptDefault_Text">frontRightTire</span>.<span class="ActionScriptDefault_Text">screenZOffset</span> <span class="ActionScriptOperator">=</span> 10;&#xd;&#xa;&#x9;&#x9;&#x9;<span class="ActionScriptDefault_Text">frontRightTire</span>.<span class="ActionScriptDefault_Text">centerPivot</span><span class="ActionScriptBracket/Brace">()</span>;&#xd;&#xa;&#x9;&#x9;&#x9;&#xd;&#xa;&#x9;&#x9;&#x9;<span class="ActionScriptvar">var</span> <span class="ActionScriptDefault_Text">frontLeftBrake</span><span class="ActionScriptOperator">:</span><span class="ActionScriptDefault_Text">Mesh</span> <span class="ActionScriptOperator">=</span> <span class="ActionScriptDefault_Text">mustang</span>.<span class="ActionScriptDefault_Text">meshes</span><span class="ActionScriptBracket/Brace">[</span>10<span class="ActionScriptBracket/Brace">]</span>;&#xd;&#xa;&#x9;&#x9;&#x9;<span class="ActionScriptDefault_Text">frontLeftBrake</span>.<span class="ActionScriptDefault_Text">material</span> <span class="ActionScriptOperator">=</span> <span class="ActionScriptDefault_Text">brakesMaterial</span>;&#xd;&#xa;&#x9;&#x9;&#x9;<span class="ActionScriptDefault_Text">frontLeftBrake</span>.<span class="ActionScriptDefault_Text">ownSession</span> <span class="ActionScriptOperator">=</span> <span class="ActionScriptDefault_Text">frontLeftWheelSession</span>;&#xd;&#xa;&#x9;&#x9;&#x9;<span class="ActionScriptDefault_Text">frontLeftBrake</span>.<span class="ActionScriptDefault_Text">screenZOffset</span> <span class="ActionScriptOperator">=</span> 10;&#xd;&#xa;&#x9;&#x9;&#x9;<span class="ActionScriptDefault_Text">frontLeftBrake</span>.<span class="ActionScriptDefault_Text">centerPivot</span><span class="ActionScriptBracket/Brace">()</span>;&#xd;&#xa;&#x9;&#x9;&#x9;&#xd;&#xa;&#x9;&#x9;&#x9;<span class="ActionScriptvar">var</span> <span class="ActionScriptDefault_Text">frontRightBrake</span><span class="ActionScriptOperator">:</span><span class="ActionScriptDefault_Text">Mesh</span> <span class="ActionScriptOperator">=</span> <span class="ActionScriptDefault_Text">mustang</span>.<span class="ActionScriptDefault_Text">meshes</span><span class="ActionScriptBracket/Brace">[</span>6<span class="ActionScriptBracket/Brace">]</span>;&#xd;&#xa;&#x9;&#x9;&#x9;<span class="ActionScriptDefault_Text">frontRightBrake</span>.<span class="ActionScriptDefault_Text">material</span> <span class="ActionScriptOperator">=</span> <span class="ActionScriptDefault_Text">brakesMaterial</span>;&#xd;&#xa;&#x9;&#x9;&#x9;<span class="ActionScriptDefault_Text">frontRightBrake</span>.<span class="ActionScriptDefault_Text">ownSession</span> <span class="ActionScriptOperator">=</span> <span class="ActionScriptDefault_Text">frontRightWheelSession</span>;&#xd;&#xa;&#x9;&#x9;&#x9;<span class="ActionScriptDefault_Text">frontRightBrake</span>.<span class="ActionScriptDefault_Text">screenZOffset</span> <span class="ActionScriptOperator">=</span> 10;&#xd;&#xa;&#x9;&#x9;&#x9;<span class="ActionScriptDefault_Text">frontRightBrake</span>.<span class="ActionScriptDefault_Text">centerPivot</span><span class="ActionScriptBracket/Brace">()</span>;&#xd;&#xa;&#x9;&#x9;&#x9;&#xd;&#xa;&#x9;&#x9;&#x9;<span class="ActionScriptvar">var</span> <span class="ActionScriptDefault_Text">frontLeftHub</span><span class="ActionScriptOperator">:</span><span class="ActionScriptDefault_Text">Mesh</span> <span class="ActionScriptOperator">=</span> <span class="ActionScriptDefault_Text">mustang</span>.<span class="ActionScriptDefault_Text">meshes</span><span class="ActionScriptBracket/Brace">[</span>9<span class="ActionScriptBracket/Brace">]</span>;&#xd;&#xa;&#x9;&#x9;&#x9;<span class="ActionScriptDefault_Text">frontLeftHub</span>.<span class="ActionScriptDefault_Text">material</span> <span class="ActionScriptOperator">=</span> <span class="ActionScriptDefault_Text">hubMaterial</span>;&#xd;&#xa;&#x9;&#x9;&#x9;<span class="ActionScriptDefault_Text">frontLeftHub</span>.<span class="ActionScriptDefault_Text">ownSession</span> <span class="ActionScriptOperator">=</span> <span class="ActionScriptDefault_Text">frontLeftWheelSession</span>;&#xd;&#xa;&#x9;&#x9;&#x9;<span class="ActionScriptDefault_Text">frontLeftHub</span>.<span class="ActionScriptDefault_Text">screenZOffset</span> <span class="ActionScriptOperator">=</span> 10;&#xd;&#xa;&#x9;&#x9;&#x9;<span class="ActionScriptDefault_Text">frontLeftHub</span>.<span class="ActionScriptDefault_Text">centerPivot</span><span class="ActionScriptBracket/Brace">()</span>;&#xd;&#xa;&#x9;&#x9;&#x9;&#xd;&#xa;&#x9;&#x9;&#x9;<span class="ActionScriptvar">var</span> <span class="ActionScriptDefault_Text">frontRightHub</span><span class="ActionScriptOperator">:</span><span class="ActionScriptDefault_Text">Mesh</span> <span class="ActionScriptOperator">=</span> <span class="ActionScriptDefault_Text">mustang</span>.<span class="ActionScriptDefault_Text">meshes</span><span class="ActionScriptBracket/Brace">[</span>7<span class="ActionScriptBracket/Brace">]</span>;&#xd;&#xa;&#x9;&#x9;&#x9;<span class="ActionScriptDefault_Text">frontRightHub</span>.<span class="ActionScriptDefault_Text">material</span> <span class="ActionScriptOperator">=</span> <span class="ActionScriptDefault_Text">hubMaterial</span>;&#xd;&#xa;&#x9;&#x9;&#x9;<span class="ActionScriptDefault_Text">frontRightHub</span>.<span class="ActionScriptDefault_Text">ownSession</span> <span class="ActionScriptOperator">=</span> <span class="ActionScriptDefault_Text">frontRightWheelSession</span>;&#xd;&#xa;&#x9;&#x9;&#x9;<span class="ActionScriptDefault_Text">frontRightHub</span>.<span class="ActionScriptDefault_Text">screenZOffset</span> <span class="ActionScriptOperator">=</span> 10;&#xd;&#xa;&#x9;&#x9;&#x9;<span class="ActionScriptDefault_Text">frontRightHub</span>.<span class="ActionScriptDefault_Text">centerPivot</span><span class="ActionScriptBracket/Brace">()</span>;&#xd;&#xa;&#x9;&#x9;&#x9;&#xd;&#xa;&#x9;&#x9;&#x9;<span class="ActionScriptvar">var</span> <span class="ActionScriptDefault_Text">backLeftTire</span><span class="ActionScriptOperator">:</span><span class="ActionScriptDefault_Text">Mesh</span> <span class="ActionScriptOperator">=</span> <span class="ActionScriptDefault_Text">mustang</span>.<span class="ActionScriptDefault_Text">meshes</span><span class="ActionScriptBracket/Brace">[</span>12<span class="ActionScriptBracket/Brace">]</span>;&#xd;&#xa;&#x9;&#x9;&#x9;<span class="ActionScriptDefault_Text">backLeftTire</span>.<span class="ActionScriptDefault_Text">material</span> <span class="ActionScriptOperator">=</span> <span class="ActionScriptDefault_Text">tiresMaterial</span>;&#xd;&#xa;&#x9;&#x9;&#x9;<span class="ActionScriptDefault_Text">backLeftTire</span>.<span class="ActionScriptDefault_Text">ownSession</span> <span class="ActionScriptOperator">=</span> <span class="ActionScriptDefault_Text">backLeftWheelSession</span>;&#xd;&#xa;&#x9;&#x9;&#x9;<span class="ActionScriptDefault_Text">backLeftTire</span>.<span class="ActionScriptDefault_Text">screenZOffset</span> <span class="ActionScriptOperator">=</span> 10;&#xd;&#xa;&#x9;&#x9;&#x9;<span class="ActionScriptDefault_Text">backLeftTire</span>.<span class="ActionScriptDefault_Text">centerPivot</span><span class="ActionScriptBracket/Brace">()</span>;&#xd;&#xa;&#x9;&#x9;&#x9;&#xd;&#xa;&#x9;&#x9;&#x9;<span class="ActionScriptvar">var</span> <span class="ActionScriptDefault_Text">backRightTire</span><span class="ActionScriptOperator">:</span><span class="ActionScriptDefault_Text">Mesh</span> <span class="ActionScriptOperator">=</span> <span class="ActionScriptDefault_Text">mustang</span>.<span class="ActionScriptDefault_Text">meshes</span><span class="ActionScriptBracket/Brace">[</span>1<span class="ActionScriptBracket/Brace">]</span>;&#xd;&#xa;&#x9;&#x9;&#x9;<span class="ActionScriptDefault_Text">backRightTire</span>.<span class="ActionScriptDefault_Text">material</span> <span class="ActionScriptOperator">=</span> <span class="ActionScriptDefault_Text">tiresMaterial</span>;&#xd;&#xa;&#x9;&#x9;&#x9;<span class="ActionScriptDefault_Text">backRightTire</span>.<span class="ActionScriptDefault_Text">ownSession</span> <span class="ActionScriptOperator">=</span> <span class="ActionScriptDefault_Text">backRightWheelSession</span>;&#xd;&#xa;&#x9;&#x9;&#x9;<span class="ActionScriptDefault_Text">backRightTire</span>.<span class="ActionScriptDefault_Text">screenZOffset</span> <span class="ActionScriptOperator">=</span> 10;&#xd;&#xa;&#x9;&#x9;&#x9;<span class="ActionScriptDefault_Text">backRightTire</span>.<span class="ActionScriptDefault_Text">centerPivot</span><span class="ActionScriptBracket/Brace">()</span>;&#xd;&#xa;&#x9;&#x9;&#x9;&#xd;&#xa;&#x9;&#x9;&#x9;<span class="ActionScriptvar">var</span> <span class="ActionScriptDefault_Text">backLeftBrake</span><span class="ActionScriptOperator">:</span><span class="ActionScriptDefault_Text">Mesh</span> <span class="ActionScriptOperator">=</span> <span class="ActionScriptDefault_Text">mustang</span>.<span class="ActionScriptDefault_Text">meshes</span><span class="ActionScriptBracket/Brace">[</span>2<span class="ActionScriptBracket/Brace">]</span>;&#xd;&#xa;&#x9;&#x9;&#x9;<span class="ActionScriptDefault_Text">backLeftBrake</span>.<span class="ActionScriptDefault_Text">material</span> <span class="ActionScriptOperator">=</span> <span class="ActionScriptDefault_Text">brakesMaterial</span>;&#xd;&#xa;&#x9;&#x9;&#x9;<span class="ActionScriptDefault_Text">backLeftBrake</span>.<span class="ActionScriptDefault_Text">ownSession</span> <span class="ActionScriptOperator">=</span> <span class="ActionScriptDefault_Text">backLeftWheelSession</span>;&#xd;&#xa;&#x9;&#x9;&#x9;<span class="ActionScriptDefault_Text">backLeftBrake</span>.<span class="ActionScriptDefault_Text">screenZOffset</span> <span class="ActionScriptOperator">=</span> 10;&#xd;&#xa;&#x9;&#x9;&#x9;<span class="ActionScriptDefault_Text">backLeftBrake</span>.<span class="ActionScriptDefault_Text">centerPivot</span><span class="ActionScriptBracket/Brace">()</span>;&#xd;&#xa;&#x9;&#x9;&#x9;&#xd;&#xa;&#x9;&#x9;&#x9;<span class="ActionScriptvar">var</span> <span class="ActionScriptDefault_Text">backRightBrake</span><span class="ActionScriptOperator">:</span><span class="ActionScriptDefault_Text">Mesh</span> <span class="ActionScriptOperator">=</span> <span class="ActionScriptDefault_Text">mustang</span>.<span class="ActionScriptDefault_Text">meshes</span><span class="ActionScriptBracket/Brace">[</span>5<span class="ActionScriptBracket/Brace">]</span>;&#xd;&#xa;&#x9;&#x9;&#x9;<span class="ActionScriptDefault_Text">backRightBrake</span>.<span class="ActionScriptDefault_Text">material</span> <span class="ActionScriptOperator">=</span> <span class="ActionScriptDefault_Text">brakesMaterial</span>;&#xd;&#xa;&#x9;&#x9;&#x9;<span class="ActionScriptDefault_Text">backRightBrake</span>.<span class="ActionScriptDefault_Text">ownSession</span> <span class="ActionScriptOperator">=</span> <span class="ActionScriptDefault_Text">backRightWheelSession</span>;&#xd;&#xa;&#x9;&#x9;&#x9;<span class="ActionScriptDefault_Text">backRightBrake</span>.<span class="ActionScriptDefault_Text">screenZOffset</span> <span class="ActionScriptOperator">=</span> 10;&#xd;&#xa;&#x9;&#x9;&#x9;<span class="ActionScriptDefault_Text">backRightBrake</span>.<span class="ActionScriptDefault_Text">centerPivot</span><span class="ActionScriptBracket/Brace">()</span>;&#xd;&#xa;&#x9;&#x9;&#x9;&#xd;&#xa;&#x9;&#x9;&#x9;<span class="ActionScriptvar">var</span> <span class="ActionScriptDefault_Text">backLeftHub</span><span class="ActionScriptOperator">:</span><span class="ActionScriptDefault_Text">Mesh</span> <span class="ActionScriptOperator">=</span> <span class="ActionScriptDefault_Text">mustang</span>.<span class="ActionScriptDefault_Text">meshes</span><span class="ActionScriptBracket/Brace">[</span>3<span class="ActionScriptBracket/Brace">]</span>;&#xd;&#xa;&#x9;&#x9;&#x9;<span class="ActionScriptDefault_Text">backLeftHub</span>.<span class="ActionScriptDefault_Text">material</span> <span class="ActionScriptOperator">=</span> <span class="ActionScriptDefault_Text">hubMaterial</span>;&#xd;&#xa;&#x9;&#x9;&#x9;<span class="ActionScriptDefault_Text">backLeftHub</span>.<span class="ActionScriptDefault_Text">ownSession</span> <span class="ActionScriptOperator">=</span> <span class="ActionScriptDefault_Text">backLeftWheelSession</span>;&#xd;&#xa;&#x9;&#x9;&#x9;<span class="ActionScriptDefault_Text">backLeftHub</span>.<span class="ActionScriptDefault_Text">screenZOffset</span> <span class="ActionScriptOperator">=</span> 10;&#xd;&#xa;&#x9;&#x9;&#x9;<span class="ActionScriptDefault_Text">backLeftHub</span>.<span class="ActionScriptDefault_Text">centerPivot</span><span class="ActionScriptBracket/Brace">()</span>;&#xd;&#xa;&#x9;&#x9;&#x9;&#xd;&#xa;&#x9;&#x9;&#x9;<span class="ActionScriptvar">var</span> <span class="ActionScriptDefault_Text">backRightHub</span><span class="ActionScriptOperator">:</span><span class="ActionScriptDefault_Text">Mesh</span> <span class="ActionScriptOperator">=</span> <span class="ActionScriptDefault_Text">mustang</span>.<span class="ActionScriptDefault_Text">meshes</span><span class="ActionScriptBracket/Brace">[</span>4<span class="ActionScriptBracket/Brace">]</span>;&#xd;&#xa;&#x9;&#x9;&#x9;<span class="ActionScriptDefault_Text">backRightHub</span>.<span class="ActionScriptDefault_Text">material</span> <span class="ActionScriptOperator">=</span> <span class="ActionScriptDefault_Text">hubMaterial</span>;&#xd;&#xa;&#x9;&#x9;&#x9;<span class="ActionScriptDefault_Text">backRightHub</span>.<span class="ActionScriptDefault_Text">ownSession</span> <span class="ActionScriptOperator">=</span> <span class="ActionScriptDefault_Text">backRightWheelSession</span>;&#xd;&#xa;&#x9;&#x9;&#x9;<span class="ActionScriptDefault_Text">backRightHub</span>.<span class="ActionScriptDefault_Text">screenZOffset</span> <span class="ActionScriptOperator">=</span> 10;&#xd;&#xa;&#x9;&#x9;&#x9;<span class="ActionScriptDefault_Text">backRightHub</span>.<span class="ActionScriptDefault_Text">centerPivot</span><span class="ActionScriptBracket/Brace">()</span>;&#xd;&#xa;&#x9;&#x9;&#x9;&#xd;&#xa;&#x9;&#x9;&#x9;<span class="ActionScriptDefault_Text">shadow</span> <span class="ActionScriptOperator">=</span> <span class="ActionScriptDefault_Text">mustang</span>.<span class="ActionScriptDefault_Text">meshes</span><span class="ActionScriptBracket/Brace">[</span>8<span class="ActionScriptBracket/Brace">]</span>;&#xd;&#xa;&#x9;&#x9;&#x9;<span class="ActionScriptDefault_Text">shadow</span>.<span class="ActionScriptDefault_Text">material</span> <span class="ActionScriptOperator">=</span> <span class="ActionScriptDefault_Text">shadowMaterial</span>;&#xd;&#xa;&#x9;&#x9;&#x9;<span class="ActionScriptDefault_Text">shadow</span>.<span class="ActionScriptDefault_Text">ownCanvas</span> <span class="ActionScriptOperator">=</span> <span class="ActionScriptReserved">true</span>;&#xd;&#xa;&#x9;&#x9;&#x9;<span class="ActionScriptDefault_Text">shadow</span>.<span class="ActionScriptDefault_Text">pushback</span> <span class="ActionScriptOperator">=</span> <span class="ActionScriptReserved">true</span>;&#xd;&#xa;&#x9;&#x9;&#x9;&#xd;&#xa;&#x9;&#x9;&#x9;<span class="ActionScriptDefault_Text">bodyMesh</span> <span class="ActionScriptOperator">=</span> <span class="ActionScriptDefault_Text">mustang</span>.<span class="ActionScriptDefault_Text">meshes</span><span class="ActionScriptBracket/Brace">[</span>11<span class="ActionScriptBracket/Brace">]</span>;&#xd;&#xa;&#x9;&#x9;&#x9;<span class="ActionScriptDefault_Text">bodyMesh</span>.<span class="ActionScriptDefault_Text">material</span> <span class="ActionScriptOperator">=</span> <span class="ActionScriptDefault_Text">f10Material</span>;&#xd;&#xa;&#x9;&#x9;&#x9;&#xd;&#xa;&#x9;&#x9;&#x9;<span class="ActionScriptDefault_Text">bodyMesh</span>.<span class="ActionScriptDefault_Text">faces</span><span class="ActionScriptBracket/Brace">[</span>0<span class="ActionScriptBracket/Brace">]</span>.<span class="ActionScriptDefault_Text">material</span> <span class="ActionScriptOperator">=</span> <span class="ActionScriptDefault_Text">licenseMaterial</span>;&#xd;&#xa;&#x9;&#x9;&#x9;<span class="ActionScriptDefault_Text">bodyMesh</span>.<span class="ActionScriptDefault_Text">faces</span><span class="ActionScriptBracket/Brace">[</span>1<span class="ActionScriptBracket/Brace">]</span>.<span class="ActionScriptDefault_Text">material</span> <span class="ActionScriptOperator">=</span> <span class="ActionScriptDefault_Text">licenseMaterial</span>;&#xd;&#xa;&#x9;&#x9;&#x9;&#xd;&#xa;&#x9;&#x9;&#x9;<span class="ActionScriptDefault_Text">scene</span>.<span class="ActionScriptDefault_Text">addChild</span><span class="ActionScriptBracket/Brace">(</span><span class="ActionScriptDefault_Text">mustang</span><span class="ActionScriptBracket/Brace">)</span>;&#xd;&#xa;&#x9;&#x9;<span class="ActionScriptBracket/Brace">}</span>&#xd;&#xa;&#x9;&#x9;&#xd;&#xa;&#x9;&#x9;<span class="ActionScriptASDoc">/**&#xd;&#xa;&#x9;&#x9; * Initialise the lights&#xd;&#xa;&#x9;&#x9; */</span>&#xd;&#xa;&#x9;&#x9;<span class="ActionScriptReserved">private</span> <span class="ActionScriptfunction">function</span> <span class="ActionScriptDefault_Text">initLights</span><span class="ActionScriptBracket/Brace">()</span><span class="ActionScriptOperator">:</span><span class="ActionScriptReserved">void</span>&#xd;&#xa;&#x9;&#x9;<span class="ActionScriptBracket/Brace">{</span>&#xd;&#xa;&#x9;&#x9;&#x9;<span class="ActionScriptDefault_Text">light</span> <span class="ActionScriptOperator">=</span> <span class="ActionScriptReserved">new</span> <span class="ActionScriptDefault_Text">DirectionalLight3D</span><span class="ActionScriptBracket/Brace">({</span><span class="ActionScriptDefault_Text">x</span><span class="ActionScriptOperator">:</span>0, <span class="ActionScriptDefault_Text">y</span><span class="ActionScriptOperator">:</span>700, <span class="ActionScriptDefault_Text">z</span><span class="ActionScriptOperator">:</span>1000, <span class="ActionScriptDefault_Text">color</span><span class="ActionScriptOperator">:</span>0<span class="ActionScriptDefault_Text">xFFFFFF</span>, <span class="ActionScriptDefault_Text">ambient</span><span class="ActionScriptOperator">:</span>0.2, <span class="ActionScriptDefault_Text">diffuse</span><span class="ActionScriptOperator">:</span>0.7<span class="ActionScriptBracket/Brace">})</span>;&#xd;&#xa;&#x9;&#x9;&#x9;<span class="ActionScriptDefault_Text">light</span>.<span class="ActionScriptDefault_Text">debug</span> <span class="ActionScriptOperator">=</span> <span class="ActionScriptReserved">true</span>;&#xd;&#xa;&#x9;&#x9;&#x9;<span class="ActionScriptDefault_Text">scene</span>.<span class="ActionScriptDefault_Text">addChild</span><span class="ActionScriptBracket/Brace">(</span> <span class="ActionScriptDefault_Text">light</span> <span class="ActionScriptBracket/Brace">)</span>;&#xd;&#xa;&#x9;&#x9;<span class="ActionScriptBracket/Brace">}</span>&#xd;&#xa;&#x9;&#x9;&#x9;&#x9;&#xd;&#xa;&#x9;&#x9;<span class="ActionScriptASDoc">/**&#xd;&#xa;&#x9;&#x9; * Initialise the buttons&#xd;&#xa;&#x9;&#x9; */</span>&#xd;&#xa;&#x9;&#x9;<span class="ActionScriptReserved">private</span> <span class="ActionScriptfunction">function</span> <span class="ActionScriptDefault_Text">initButtons</span><span class="ActionScriptBracket/Brace">()</span><span class="ActionScriptOperator">:</span><span class="ActionScriptReserved">void</span>&#xd;&#xa;&#x9;&#x9;<span class="ActionScriptBracket/Brace">{</span>&#xd;&#xa;&#x9;&#x9;&#x9;<span class="ActionScriptDefault_Text">buttonGroup</span> <span class="ActionScriptOperator">=</span> <span class="ActionScriptReserved">new</span> <span class="ActionScriptDefault_Text">Sprite</span><span class="ActionScriptBracket/Brace">()</span>;&#xd;&#xa;&#x9;&#x9;&#x9;<span class="ActionScriptDefault_Text">addChild</span><span class="ActionScriptBracket/Brace">(</span><span class="ActionScriptDefault_Text">buttonGroup</span><span class="ActionScriptBracket/Brace">)</span>;&#xd;&#xa;&#x9;&#x9;&#x9;<span class="ActionScriptDefault_Text">f10BloomButton</span> <span class="ActionScriptOperator">=</span> <span class="ActionScriptReserved">new</span> <span class="ActionScriptDefault_Text">Button</span><span class="ActionScriptBracket/Brace">(</span><span class="ActionScriptString">&quot;Flash 10 + HDR&quot;</span>, 120<span class="ActionScriptBracket/Brace">)</span>;&#xd;&#xa;            <span class="ActionScriptDefault_Text">f10BloomButton</span>.<span class="ActionScriptDefault_Text">x</span> <span class="ActionScriptOperator">=</span> 170;&#xd;&#xa;            <span class="ActionScriptDefault_Text">f10BloomButton</span>.<span class="ActionScriptDefault_Text">y</span> <span class="ActionScriptOperator">=</span> 0;&#xd;&#xa;            <span class="ActionScriptDefault_Text">buttonGroup</span>.<span class="ActionScriptDefault_Text">addChild</span><span class="ActionScriptBracket/Brace">(</span><span class="ActionScriptDefault_Text">f10BloomButton</span><span class="ActionScriptBracket/Brace">)</span>;&#xd;&#xa;            <span class="ActionScriptDefault_Text">f10Button</span> <span class="ActionScriptOperator">=</span> <span class="ActionScriptReserved">new</span> <span class="ActionScriptDefault_Text">Button</span><span class="ActionScriptBracket/Brace">(</span><span class="ActionScriptString">&quot;Flash 10&quot;</span>, 75<span class="ActionScriptBracket/Brace">)</span>;&#xd;&#xa;            <span class="ActionScriptDefault_Text">f10Button</span>.<span class="ActionScriptDefault_Text">x</span> <span class="ActionScriptOperator">=</span> 310;&#xd;&#xa;            <span class="ActionScriptDefault_Text">f10Button</span>.<span class="ActionScriptDefault_Text">y</span> <span class="ActionScriptOperator">=</span> 0;&#xd;&#xa;            <span class="ActionScriptDefault_Text">buttonGroup</span>.<span class="ActionScriptDefault_Text">addChild</span><span class="ActionScriptBracket/Brace">(</span><span class="ActionScriptDefault_Text">f10Button</span><span class="ActionScriptBracket/Brace">)</span>;&#xd;&#xa;            <span class="ActionScriptDefault_Text">f9Button</span> <span class="ActionScriptOperator">=</span> <span class="ActionScriptReserved">new</span> <span class="ActionScriptDefault_Text">Button</span><span class="ActionScriptBracket/Brace">(</span><span class="ActionScriptString">&quot;Flash 9&quot;</span>, 65<span class="ActionScriptBracket/Brace">)</span>;&#xd;&#xa;            <span class="ActionScriptDefault_Text">f9Button</span>.<span class="ActionScriptDefault_Text">x</span> <span class="ActionScriptOperator">=</span> 405;&#xd;&#xa;            <span class="ActionScriptDefault_Text">f9Button</span>.<span class="ActionScriptDefault_Text">y</span> <span class="ActionScriptOperator">=</span> 0;&#xd;&#xa;            <span class="ActionScriptDefault_Text">buttonGroup</span>.<span class="ActionScriptDefault_Text">addChild</span><span class="ActionScriptBracket/Brace">(</span><span class="ActionScriptDefault_Text">f9Button</span><span class="ActionScriptBracket/Brace">)</span>;&#xd;&#xa;            <span class="ActionScriptDefault_Text">flatButton</span> <span class="ActionScriptOperator">=</span> <span class="ActionScriptReserved">new</span> <span class="ActionScriptDefault_Text">Button</span><span class="ActionScriptBracket/Brace">(</span><span class="ActionScriptString">&quot;Flat Shading&quot;</span>, 95<span class="ActionScriptBracket/Brace">)</span>;&#xd;&#xa;            <span class="ActionScriptDefault_Text">flatButton</span>.<span class="ActionScriptDefault_Text">x</span> <span class="ActionScriptOperator">=</span> 490;&#xd;&#xa;            <span class="ActionScriptDefault_Text">flatButton</span>.<span class="ActionScriptDefault_Text">y</span> <span class="ActionScriptOperator">=</span> 0;&#xd;&#xa;            <span class="ActionScriptDefault_Text">buttonGroup</span>.<span class="ActionScriptDefault_Text">addChild</span><span class="ActionScriptBracket/Brace">(</span><span class="ActionScriptDefault_Text">flatButton</span><span class="ActionScriptBracket/Brace">)</span>;&#xd;&#xa;&#x9;&#x9;<span class="ActionScriptBracket/Brace">}</span>&#xd;&#xa;&#x9;&#x9;&#xd;&#xa;&#x9;&#x9;<span class="ActionScriptASDoc">/**&#xd;&#xa;&#x9;&#x9; * Initialise the listeners&#xd;&#xa;&#x9;&#x9; */</span>&#xd;&#xa;&#x9;&#x9;<span class="ActionScriptReserved">private</span> <span class="ActionScriptfunction">function</span> <span class="ActionScriptDefault_Text">initListeners</span><span class="ActionScriptBracket/Brace">()</span><span class="ActionScriptOperator">:</span><span class="ActionScriptReserved">void</span>&#xd;&#xa;&#x9;&#x9;<span class="ActionScriptBracket/Brace">{</span>&#xd;&#xa;&#x9;&#x9;&#x9;<span class="ActionScriptDefault_Text">addEventListener</span><span class="ActionScriptBracket/Brace">(</span> <span class="ActionScriptDefault_Text">Event</span>.<span class="ActionScriptDefault_Text">ENTER_FRAME</span>, <span class="ActionScriptDefault_Text">onEnterFrame</span> <span class="ActionScriptBracket/Brace">)</span>;&#xd;&#xa;&#x9;&#x9;&#x9;<span class="ActionScriptDefault_Text">stage</span>.<span class="ActionScriptDefault_Text">addEventListener</span><span class="ActionScriptBracket/Brace">(</span><span class="ActionScriptDefault_Text">MouseEvent</span>.<span class="ActionScriptDefault_Text">MOUSE_DOWN</span>, <span class="ActionScriptDefault_Text">onMouseDown</span><span class="ActionScriptBracket/Brace">)</span>;&#xd;&#xa;&#x9;&#x9;&#x9;<span class="ActionScriptDefault_Text">stage</span>.<span class="ActionScriptDefault_Text">addEventListener</span><span class="ActionScriptBracket/Brace">(</span><span class="ActionScriptDefault_Text">MouseEvent</span>.<span class="ActionScriptDefault_Text">MOUSE_UP</span>, <span class="ActionScriptDefault_Text">onMouseUp</span><span class="ActionScriptBracket/Brace">)</span>;&#xd;&#xa;&#x9;&#x9;&#x9;<span class="ActionScriptDefault_Text">f10BloomButton</span>.<span class="ActionScriptDefault_Text">addEventListener</span><span class="ActionScriptBracket/Brace">(</span><span class="ActionScriptDefault_Text">MouseEvent</span>.<span class="ActionScriptDefault_Text">CLICK</span>, <span class="ActionScriptDefault_Text">onF10BloomClick</span><span class="ActionScriptBracket/Brace">)</span>;&#xd;&#xa;&#x9;&#x9;&#x9;<span class="ActionScriptDefault_Text">f10Button</span>.<span class="ActionScriptDefault_Text">addEventListener</span><span class="ActionScriptBracket/Brace">(</span><span class="ActionScriptDefault_Text">MouseEvent</span>.<span class="ActionScriptDefault_Text">CLICK</span>, <span class="ActionScriptDefault_Text">onF10Click</span><span class="ActionScriptBracket/Brace">)</span>;&#xd;&#xa;&#x9;&#x9;&#x9;<span class="ActionScriptDefault_Text">f9Button</span>.<span class="ActionScriptDefault_Text">addEventListener</span><span class="ActionScriptBracket/Brace">(</span><span class="ActionScriptDefault_Text">MouseEvent</span>.<span class="ActionScriptDefault_Text">CLICK</span>, <span class="ActionScriptDefault_Text">onF9Click</span><span class="ActionScriptBracket/Brace">)</span>;&#xd;&#xa;&#x9;&#x9;&#x9;<span class="ActionScriptDefault_Text">flatButton</span>.<span class="ActionScriptDefault_Text">addEventListener</span><span class="ActionScriptBracket/Brace">(</span><span class="ActionScriptDefault_Text">MouseEvent</span>.<span class="ActionScriptDefault_Text">CLICK</span>, <span class="ActionScriptDefault_Text">onFlatClick</span><span class="ActionScriptBracket/Brace">)</span>;&#xd;&#xa;&#x9;&#x9;&#x9;<span class="ActionScriptDefault_Text">onResize</span><span class="ActionScriptBracket/Brace">(</span><span class="ActionScriptReserved">null</span><span class="ActionScriptBracket/Brace">)</span>;&#xd;&#xa;&#x9;&#x9;<span class="ActionScriptBracket/Brace">}</span>&#xd;&#xa;&#x9;&#x9;&#xd;&#xa;&#x9;&#x9;<span class="ActionScriptASDoc">/**&#xd;&#xa;&#x9;&#x9; * Navigation and render loop&#xd;&#xa;&#x9;&#x9; */</span>&#xd;&#xa;&#x9;&#x9;<span class="ActionScriptReserved">private</span> <span class="ActionScriptfunction">function</span> <span class="ActionScriptDefault_Text">onEnterFrame</span><span class="ActionScriptBracket/Brace">(</span><span class="ActionScriptDefault_Text">event</span><span class="ActionScriptOperator">:</span><span class="ActionScriptDefault_Text">Event</span><span class="ActionScriptBracket/Brace">)</span><span class="ActionScriptOperator">:</span><span class="ActionScriptReserved">void</span>&#xd;&#xa;&#x9;&#x9;<span class="ActionScriptBracket/Brace">{</span>&#xd;&#xa;&#x9;&#x9;&#x9;<span class="ActionScriptDefault_Text">tick</span><span class="ActionScriptBracket/Brace">(</span><span class="ActionScriptDefault_Text">getTimer</span><span class="ActionScriptBracket/Brace">())</span>;&#xd;&#xa;&#x9;&#x9;&#x9;&#xd;&#xa;&#x9;&#x9;&#x9;<span class="ActionScriptReserved">if</span> <span class="ActionScriptBracket/Brace">(</span><span class="ActionScriptDefault_Text">move</span><span class="ActionScriptBracket/Brace">)</span> <span class="ActionScriptBracket/Brace">{</span>&#xd;&#xa;&#x9;&#x9;&#x9;&#x9;<span class="ActionScriptDefault_Text">camera</span>.<span class="ActionScriptDefault_Text">targetpanangle</span> <span class="ActionScriptOperator">=</span> 0.3<span class="ActionScriptOperator">*</span><span class="ActionScriptBracket/Brace">(</span><span class="ActionScriptDefault_Text">stage</span>.<span class="ActionScriptDefault_Text">mouseX</span> <span class="ActionScriptOperator">-</span> <span class="ActionScriptDefault_Text">lastMouseX</span><span class="ActionScriptBracket/Brace">)</span> <span class="ActionScriptOperator">+</span> <span class="ActionScriptDefault_Text">lastPanAngle</span>;&#xd;&#xa;&#x9;&#x9;&#x9;&#x9;<span class="ActionScriptDefault_Text">camera</span>.<span class="ActionScriptDefault_Text">targettiltangle</span> <span class="ActionScriptOperator">=</span> 0.3<span class="ActionScriptOperator">*</span><span class="ActionScriptBracket/Brace">(</span><span class="ActionScriptDefault_Text">stage</span>.<span class="ActionScriptDefault_Text">mouseY</span> <span class="ActionScriptOperator">-</span> <span class="ActionScriptDefault_Text">lastMouseY</span><span class="ActionScriptBracket/Brace">)</span> <span class="ActionScriptOperator">+</span> <span class="ActionScriptDefault_Text">lastTiltAngle</span>;&#xd;&#xa;&#x9;&#x9;&#x9;<span class="ActionScriptBracket/Brace">}</span>&#xd;&#xa;&#x9;&#x9;&#x9;&#xd;&#xa;&#x9;&#x9;&#x9;<span class="ActionScriptDefault_Text">camera</span>.<span class="ActionScriptDefault_Text">hover</span><span class="ActionScriptBracket/Brace">()</span>;  &#xd;&#xa;&#x9;&#x9;&#x9;<span class="ActionScriptDefault_Text">view</span>.<span class="ActionScriptDefault_Text">render</span><span class="ActionScriptBracket/Brace">()</span>;&#xd;&#xa;&#x9;&#x9;&#x9;&#xd;&#xa;&#x9;&#x9;&#x9;<span class="ActionScriptDefault_Text">bloomBitmap</span>.<span class="ActionScriptDefault_Text">visible</span> <span class="ActionScriptOperator">=</span> <span class="ActionScriptDefault_Text">bloom</span>;&#xd;&#xa;&#x9;&#x9;&#x9;&#xd;&#xa;&#x9;&#x9;&#x9;<span class="ActionScriptReserved">if</span> <span class="ActionScriptBracket/Brace">(</span><span class="ActionScriptDefault_Text">bloom</span><span class="ActionScriptBracket/Brace">)</span>&#xd;&#xa;&#x9;&#x9;&#x9;&#x9;<span class="ActionScriptDefault_Text">bloomBitmap</span>.<span class="ActionScriptDefault_Text">bitmapData</span> <span class="ActionScriptOperator">=</span> <span class="ActionScriptDefault_Text">view</span>.<span class="ActionScriptDefault_Text">getBitmapData</span><span class="ActionScriptBracket/Brace">()</span>.<span class="ActionScriptDefault_Text">clone</span><span class="ActionScriptBracket/Brace">()</span>;&#xd;&#xa;&#x9;&#x9;<span class="ActionScriptBracket/Brace">}</span>&#xd;&#xa;&#x9;&#x9;&#xd;&#xa;&#x9;&#x9;<span class="ActionScriptASDoc">/**&#xd;&#xa;&#x9;&#x9; * Mouse down listener for navigation&#xd;&#xa;&#x9;&#x9; */</span>&#xd;&#xa;&#x9;&#x9;<span class="ActionScriptReserved">private</span> <span class="ActionScriptfunction">function</span> <span class="ActionScriptDefault_Text">onMouseDown</span><span class="ActionScriptBracket/Brace">(</span><span class="ActionScriptDefault_Text">event</span><span class="ActionScriptOperator">:</span><span class="ActionScriptDefault_Text">MouseEvent</span><span class="ActionScriptBracket/Brace">)</span><span class="ActionScriptOperator">:</span><span class="ActionScriptReserved">void</span>&#xd;&#xa;        <span class="ActionScriptBracket/Brace">{</span>&#xd;&#xa;            <span class="ActionScriptDefault_Text">lastPanAngle</span> <span class="ActionScriptOperator">=</span> <span class="ActionScriptDefault_Text">camera</span>.<span class="ActionScriptDefault_Text">targetpanangle</span>;&#xd;&#xa;            <span class="ActionScriptDefault_Text">lastTiltAngle</span> <span class="ActionScriptOperator">=</span> <span class="ActionScriptDefault_Text">camera</span>.<span class="ActionScriptDefault_Text">targettiltangle</span>;&#xd;&#xa;            <span class="ActionScriptDefault_Text">lastMouseX</span> <span class="ActionScriptOperator">=</span> <span class="ActionScriptDefault_Text">stage</span>.<span class="ActionScriptDefault_Text">mouseX</span>;&#xd;&#xa;            <span class="ActionScriptDefault_Text">lastMouseY</span> <span class="ActionScriptOperator">=</span> <span class="ActionScriptDefault_Text">stage</span>.<span class="ActionScriptDefault_Text">mouseY</span>;&#xd;&#xa;        &#x9;<span class="ActionScriptDefault_Text">move</span> <span class="ActionScriptOperator">=</span> <span class="ActionScriptReserved">true</span>;&#xd;&#xa;        &#x9;<span class="ActionScriptDefault_Text">stage</span>.<span class="ActionScriptDefault_Text">addEventListener</span><span class="ActionScriptBracket/Brace">(</span><span class="ActionScriptDefault_Text">Event</span>.<span class="ActionScriptDefault_Text">MOUSE_LEAVE</span>, <span class="ActionScriptDefault_Text">onStageMouseLeave</span><span class="ActionScriptBracket/Brace">)</span>;&#xd;&#xa;        <span class="ActionScriptBracket/Brace">}</span>&#xd;&#xa;&#x9;&#x9;&#xd;&#xa;&#x9;&#x9;<span class="ActionScriptASDoc">/**&#xd;&#xa;&#x9;&#x9; * Mouse up listener for navigation&#xd;&#xa;&#x9;&#x9; */</span>&#xd;&#xa;        <span class="ActionScriptReserved">private</span> <span class="ActionScriptfunction">function</span> <span class="ActionScriptDefault_Text">onMouseUp</span><span class="ActionScriptBracket/Brace">(</span><span class="ActionScriptDefault_Text">event</span><span class="ActionScriptOperator">:</span><span class="ActionScriptDefault_Text">MouseEvent</span><span class="ActionScriptBracket/Brace">)</span><span class="ActionScriptOperator">:</span><span class="ActionScriptReserved">void</span>&#xd;&#xa;        <span class="ActionScriptBracket/Brace">{</span>&#xd;&#xa;        &#x9;<span class="ActionScriptDefault_Text">move</span> <span class="ActionScriptOperator">=</span> <span class="ActionScriptReserved">false</span>;&#xd;&#xa;        &#x9;<span class="ActionScriptDefault_Text">stage</span>.<span class="ActionScriptDefault_Text">removeEventListener</span><span class="ActionScriptBracket/Brace">(</span><span class="ActionScriptDefault_Text">Event</span>.<span class="ActionScriptDefault_Text">MOUSE_LEAVE</span>, <span class="ActionScriptDefault_Text">onStageMouseLeave</span><span class="ActionScriptBracket/Brace">)</span>;     &#xd;&#xa;        <span class="ActionScriptBracket/Brace">}</span>&#xd;&#xa;        &#xd;&#xa;&#x9;&#x9;<span class="ActionScriptASDoc">/**&#xd;&#xa;&#x9;&#x9; * Mouse stage leave listener for navigation&#xd;&#xa;&#x9;&#x9; */</span>&#xd;&#xa;        <span class="ActionScriptReserved">private</span> <span class="ActionScriptfunction">function</span> <span class="ActionScriptDefault_Text">onStageMouseLeave</span><span class="ActionScriptBracket/Brace">(</span><span class="ActionScriptDefault_Text">event</span><span class="ActionScriptOperator">:</span><span class="ActionScriptDefault_Text">Event</span><span class="ActionScriptBracket/Brace">)</span><span class="ActionScriptOperator">:</span><span class="ActionScriptReserved">void</span>&#xd;&#xa;        <span class="ActionScriptBracket/Brace">{</span>&#xd;&#xa;        &#x9;<span class="ActionScriptDefault_Text">move</span> <span class="ActionScriptOperator">=</span> <span class="ActionScriptReserved">false</span>;&#xd;&#xa;        &#x9;<span class="ActionScriptDefault_Text">stage</span>.<span class="ActionScriptDefault_Text">removeEventListener</span><span class="ActionScriptBracket/Brace">(</span><span class="ActionScriptDefault_Text">Event</span>.<span class="ActionScriptDefault_Text">MOUSE_LEAVE</span>, <span class="ActionScriptDefault_Text">onStageMouseLeave</span><span class="ActionScriptBracket/Brace">)</span>;     &#xd;&#xa;        <span class="ActionScriptBracket/Brace">}</span>&#xd;&#xa;&#x9;&#x9;&#x9;&#x9;&#xd;&#xa;&#x9;&#x9;<span class="ActionScriptASDoc">/**&#xd;&#xa;&#x9;&#x9; * button listener for viewing flash10 normalmapping with bloom HDR&#xd;&#xa;&#x9;&#x9; */</span>&#xd;&#xa;&#x9;&#x9;<span class="ActionScriptReserved">private</span> <span class="ActionScriptfunction">function</span> <span class="ActionScriptDefault_Text">onF10BloomClick</span><span class="ActionScriptBracket/Brace">(</span><span class="ActionScriptDefault_Text">event</span><span class="ActionScriptOperator">:</span><span class="ActionScriptDefault_Text">MouseEvent</span><span class="ActionScriptBracket/Brace">)</span><span class="ActionScriptOperator">:</span><span class="ActionScriptReserved">void</span>&#xd;&#xa;&#x9;&#x9;<span class="ActionScriptBracket/Brace">{</span>&#xd;&#xa;&#x9;&#x9;&#x9;<span class="ActionScriptDefault_Text">bodyMesh</span>.<span class="ActionScriptDefault_Text">material</span> <span class="ActionScriptOperator">=</span> <span class="ActionScriptDefault_Text">f10Material</span>;&#xd;&#xa;&#x9;&#x9;&#x9;<span class="ActionScriptDefault_Text">bloom</span> <span class="ActionScriptOperator">=</span> <span class="ActionScriptReserved">true</span>;&#xd;&#xa;&#x9;&#x9;<span class="ActionScriptBracket/Brace">}</span>&#xd;&#xa;&#x9;&#x9;&#x9;&#x9;&#xd;&#xa;&#x9;&#x9;<span class="ActionScriptASDoc">/**&#xd;&#xa;&#x9;&#x9; * button listener for viewing flash10 normalmapping&#xd;&#xa;&#x9;&#x9; */</span>&#xd;&#xa;&#x9;&#x9;<span class="ActionScriptReserved">private</span> <span class="ActionScriptfunction">function</span> <span class="ActionScriptDefault_Text">onF10Click</span><span class="ActionScriptBracket/Brace">(</span><span class="ActionScriptDefault_Text">event</span><span class="ActionScriptOperator">:</span><span class="ActionScriptDefault_Text">MouseEvent</span><span class="ActionScriptBracket/Brace">)</span><span class="ActionScriptOperator">:</span><span class="ActionScriptReserved">void</span>&#xd;&#xa;&#x9;&#x9;<span class="ActionScriptBracket/Brace">{</span>&#xd;&#xa;&#x9;&#x9;&#x9;<span class="ActionScriptDefault_Text">bodyMesh</span>.<span class="ActionScriptDefault_Text">material</span> <span class="ActionScriptOperator">=</span> <span class="ActionScriptDefault_Text">f10Material</span>;&#xd;&#xa;&#x9;&#x9;&#x9;<span class="ActionScriptDefault_Text">bloom</span> <span class="ActionScriptOperator">=</span> <span class="ActionScriptReserved">false</span>;&#xd;&#xa;&#x9;&#x9;<span class="ActionScriptBracket/Brace">}</span>&#xd;&#xa;&#x9;&#x9;&#xd;&#xa;&#x9;&#x9;<span class="ActionScriptASDoc">/**&#xd;&#xa;&#x9;&#x9; * button listener for viewing flash9 normalmapping&#xd;&#xa;&#x9;&#x9; */</span>&#xd;&#xa;&#x9;&#x9;<span class="ActionScriptReserved">private</span> <span class="ActionScriptfunction">function</span> <span class="ActionScriptDefault_Text">onF9Click</span><span class="ActionScriptBracket/Brace">(</span><span class="ActionScriptDefault_Text">event</span><span class="ActionScriptOperator">:</span><span class="ActionScriptDefault_Text">MouseEvent</span><span class="ActionScriptBracket/Brace">)</span><span class="ActionScriptOperator">:</span><span class="ActionScriptReserved">void</span>&#xd;&#xa;&#x9;&#x9;<span class="ActionScriptBracket/Brace">{</span>&#xd;&#xa;&#x9;&#x9;&#x9;<span class="ActionScriptDefault_Text">bodyMesh</span>.<span class="ActionScriptDefault_Text">material</span> <span class="ActionScriptOperator">=</span> <span class="ActionScriptDefault_Text">f9Material</span>;&#xd;&#xa;&#x9;&#x9;&#x9;<span class="ActionScriptDefault_Text">bloom</span> <span class="ActionScriptOperator">=</span> <span class="ActionScriptReserved">false</span>;&#xd;&#xa;&#x9;&#x9;<span class="ActionScriptBracket/Brace">}</span>&#xd;&#xa;&#x9;&#x9;&#xd;&#xa;&#x9;&#x9;<span class="ActionScriptASDoc">/**&#xd;&#xa;&#x9;&#x9; * button listener for viewing flat shading&#xd;&#xa;&#x9;&#x9; */</span>&#xd;&#xa;&#x9;&#x9;<span class="ActionScriptReserved">private</span> <span class="ActionScriptfunction">function</span> <span class="ActionScriptDefault_Text">onFlatClick</span><span class="ActionScriptBracket/Brace">(</span><span class="ActionScriptDefault_Text">event</span><span class="ActionScriptOperator">:</span><span class="ActionScriptDefault_Text">MouseEvent</span><span class="ActionScriptBracket/Brace">)</span><span class="ActionScriptOperator">:</span><span class="ActionScriptReserved">void</span>&#xd;&#xa;&#x9;&#x9;<span class="ActionScriptBracket/Brace">{</span>&#xd;&#xa;&#x9;&#x9;&#x9;<span class="ActionScriptDefault_Text">bodyMesh</span>.<span class="ActionScriptDefault_Text">material</span> <span class="ActionScriptOperator">=</span> <span class="ActionScriptDefault_Text">flatMaterial</span>;&#xd;&#xa;&#x9;&#x9;&#x9;<span class="ActionScriptDefault_Text">bloom</span> <span class="ActionScriptOperator">=</span> <span class="ActionScriptReserved">false</span>;&#xd;&#xa;&#x9;&#x9;<span class="ActionScriptBracket/Brace">}</span>&#xd;&#xa;&#x9;&#x9;&#xd;&#xa;&#x9;&#x9;<span class="ActionScriptASDoc">/**&#xd;&#xa;&#x9;&#x9; * stage listener for resize events&#xd;&#xa;&#x9;&#x9; */</span>&#xd;&#xa;&#x9;&#x9;<span class="ActionScriptReserved">private</span> <span class="ActionScriptfunction">function</span> <span class="ActionScriptDefault_Text">onResize</span><span class="ActionScriptBracket/Brace">(</span><span class="ActionScriptDefault_Text">event</span><span class="ActionScriptOperator">:</span><span class="ActionScriptDefault_Text">Event</span><span class="ActionScriptBracket/Brace">)</span><span class="ActionScriptOperator">:</span><span class="ActionScriptReserved">void</span>&#xd;&#xa;&#x9;&#x9;<span class="ActionScriptBracket/Brace">{</span>&#xd;&#xa;&#x9;&#x9;&#x9;<span class="ActionScriptDefault_Text">view</span>.<span class="ActionScriptDefault_Text">x</span> <span class="ActionScriptOperator">=</span> <span class="ActionScriptDefault_Text">stage</span>.<span class="ActionScriptDefault_Text">stageWidth</span> <span class="ActionScriptOperator">/</span> 2;&#xd;&#xa;            <span class="ActionScriptDefault_Text">view</span>.<span class="ActionScriptDefault_Text">y</span> <span class="ActionScriptOperator">=</span> <span class="ActionScriptDefault_Text">stage</span>.<span class="ActionScriptDefault_Text">stageHeight</span> <span class="ActionScriptOperator">/</span> 2;&#xd;&#xa;            <span class="ActionScriptDefault_Text">SignatureBitmap</span>.<span class="ActionScriptDefault_Text">y</span> <span class="ActionScriptOperator">=</span> <span class="ActionScriptDefault_Text">stage</span>.<span class="ActionScriptDefault_Text">stageHeight</span> <span class="ActionScriptOperator">-</span> <span class="ActionScriptDefault_Text">Signature</span>.<span class="ActionScriptDefault_Text">height</span>;&#xd;&#xa;            <span class="ActionScriptDefault_Text">buttonGroup</span>.<span class="ActionScriptDefault_Text">x</span> <span class="ActionScriptOperator">=</span> <span class="ActionScriptDefault_Text">stage</span>.<span class="ActionScriptDefault_Text">stageWidth</span> <span class="ActionScriptOperator">-</span> 700;&#xd;&#xa;            <span class="ActionScriptDefault_Text">buttonGroup</span>.<span class="ActionScriptDefault_Text">y</span> <span class="ActionScriptOperator">=</span> <span class="ActionScriptDefault_Text">stage</span>.<span class="ActionScriptDefault_Text">stageHeight</span> <span class="ActionScriptOperator">-</span> 40;&#xd;&#xa;&#x9;&#x9;<span class="ActionScriptBracket/Brace">}</span>&#xd;&#xa;&#x9;&#x9;&#xd;&#xa;&#x9;&#x9;<span class="ActionScriptASDoc">/**&#xd;&#xa;&#x9;&#x9; * Time function for updating time-based scene objects&#xd;&#xa;&#x9;&#x9; */</span>&#xd;&#xa;        <span class="ActionScriptReserved">private</span> <span class="ActionScriptfunction">function</span> <span class="ActionScriptDefault_Text">tick</span><span class="ActionScriptBracket/Brace">(</span><span class="ActionScriptDefault_Text">time</span><span class="ActionScriptOperator">:</span><span class="ActionScriptDefault_Text">int</span><span class="ActionScriptBracket/Brace">)</span><span class="ActionScriptOperator">:</span><span class="ActionScriptReserved">void</span>&#xd;&#xa;&#x9;    <span class="ActionScriptBracket/Brace">{</span>&#xd;&#xa;&#x9;    &#x9;<span class="ActionScriptDefault_Text">light</span>.<span class="ActionScriptDefault_Text">x</span> <span class="ActionScriptOperator">=</span> 1000<span class="ActionScriptOperator">*</span><span class="ActionScriptDefault_Text">Math</span>.<span class="ActionScriptDefault_Text">cos</span><span class="ActionScriptBracket/Brace">(</span><span class="ActionScriptDefault_Text">time</span><span class="ActionScriptOperator">/</span>2000<span class="ActionScriptBracket/Brace">)</span>;&#xd;&#xa;&#x9;    &#x9;<span class="ActionScriptDefault_Text">light</span>.<span class="ActionScriptDefault_Text">z</span> <span class="ActionScriptOperator">=</span> 1000<span class="ActionScriptOperator">*</span><span class="ActionScriptDefault_Text">Math</span>.<span class="ActionScriptDefault_Text">sin</span><span class="ActionScriptBracket/Brace">(</span><span class="ActionScriptDefault_Text">time</span><span class="ActionScriptOperator">/</span>2000<span class="ActionScriptBracket/Brace">)</span>;&#xd;&#xa;&#x9;    &#x9;<span class="ActionScriptDefault_Text">shadow</span>.<span class="ActionScriptDefault_Text">x</span> <span class="ActionScriptOperator">=</span> <span class="ActionScriptOperator">-</span>20<span class="ActionScriptOperator">*</span><span class="ActionScriptDefault_Text">Math</span>.<span class="ActionScriptDefault_Text">cos</span><span class="ActionScriptBracket/Brace">(</span><span class="ActionScriptDefault_Text">time</span><span class="ActionScriptOperator">/</span>2000<span class="ActionScriptBracket/Brace">)</span>;&#xd;&#xa;&#x9;    &#x9;<span class="ActionScriptDefault_Text">shadow</span>.<span class="ActionScriptDefault_Text">z</span> <span class="ActionScriptOperator">=</span> <span class="ActionScriptOperator">-</span>20<span class="ActionScriptOperator">*</span><span class="ActionScriptDefault_Text">Math</span>.<span class="ActionScriptDefault_Text">sin</span><span class="ActionScriptBracket/Brace">(</span><span class="ActionScriptDefault_Text">time</span><span class="ActionScriptOperator">/</span>2000<span class="ActionScriptBracket/Brace">)</span>;&#xd;&#xa;&#x9;    <span class="ActionScriptBracket/Brace">}</span>&#xd;&#xa;&#x9;<span class="ActionScriptBracket/Brace">}</span>&#xd;&#xa;<span class="ActionScriptBracket/Brace">}</span></pre></body>
</html>
